{"ast":null,"code":"var _jsxFileName = \"/Users/emily/cloudland/src/pages/keys/Keys.jsx\";\n\n/*\n\nCopyright <holder> All Rights Reserved\n\nSPDX-License-Identifier: Apache-2.0\n\n*/\nimport React, { Component } from \"react\";\nimport moment from \"moment\";\nimport { Card, Button, Popconfirm, Input } from \"antd\";\nimport { keysListApi } from \"../../service/keys\";\nimport DataTable from \"../../components/DataTable/DataTable\";\nimport { compose } from \"redux\";\nimport { withRouter } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { filterKeyList, fetchKeyList } from \"../../redux/actions/KeyAction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Search\n} = Input;\n\nclass Keys extends Component {\n  constructor(props) {\n    super(props);\n    this.columns = [{\n      title: \"ID\",\n      key: \"ID\",\n      width: 80,\n      align: \"center\",\n      dataIndex: \"ID\" //render: (txt, record, index) => index + 1,\n\n    }, {\n      title: \"Name\",\n      dataIndex: \"Name\",\n      align: \"center\"\n    }, {\n      title: \"Owner\",\n      dataIndex: \"OwnerInfo.name\",\n      align: \"center\"\n    }, {\n      title: \"Created At\",\n      dataIndex: \"CreatedAt\",\n      align: \"center\",\n      render: record => /*#__PURE__*/_jsxDEV(\"span\", {\n        children: moment(record).format(\"YYYY-MM-DD HH:mm:ss\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, {\n      title: \"Action\",\n      align: \"center\",\n      render: (txt, record, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Popconfirm, {\n            title: \"Are you sure to delete?\",\n            onCancel: () => {\n              console.log(\"cancelled\");\n            },\n            onConfirm: () => {\n              console.log(\"confirmed\"); //此处调用api接口进行相关操作\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                margin: \"0 1rem\"\n              },\n              type: \"danger\",\n              size: \"small\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this);\n      }\n    }];\n\n    this.demo = () => {\n      console.log(\"11\");\n    };\n\n    this.state = {\n      keys: [],\n      isLoaded: false,\n      total: 0\n    };\n  }\n\n  componentDidMount() {\n    const {\n      keyList\n    } = this.props.key;\n    const {\n      handleFetchKeyList\n    } = this.props;\n\n    if (!keyList || keyList.length === 0) {\n      handleFetchKeyList();\n    }\n  }\n\n  render() {\n    const {\n      filteredList,\n      isLoading\n    } = this.props.key;\n    return /*#__PURE__*/_jsxDEV(Card, {\n      title: \"Key Manage Panel\" + \"(Total: \" + filteredList.length + \")\",\n      extra: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          placeholder: \"Search...\",\n          onChange: this.filter,\n          enterButton: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            float: \"right\",\n            paddingLeft: \"10px\",\n            paddingLight: \"10px\"\n          },\n          type: \"primary\",\n          onClick: this.demo,\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(DataTable, {\n        rowKey: \"ID\",\n        columns: this.columns,\n        dataSource: filteredList,\n        bordered: true,\n        total: filteredList.length,\n        pageSize: this.state.pageSize // scroll={{ y: 600, x: 600 }}\n        ,\n        onPaginationChange: this.onPaginationChange,\n        onShowSizeChange: this.onShowSizeChange,\n        pageSizeOptions: this.state.pageSizeOptions,\n        loading: isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = ({\n  key\n}) => {\n  console.log(\"mapStateToProps-state-key\", key);\n  return {\n    key\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleFetchKeyList: () => dispatch(fetchKeyList()),\n    handleFilterKeyList: keyword => dispatch(filterKeyList(keyword))\n  };\n};\n\nexport default compose(withRouter, connect(mapStateToProps, mapDispatchToProps))(Keys);","map":{"version":3,"sources":["/Users/emily/cloudland/src/pages/keys/Keys.jsx"],"names":["React","Component","moment","Card","Button","Popconfirm","Input","keysListApi","DataTable","compose","withRouter","connect","filterKeyList","fetchKeyList","Search","Keys","constructor","props","columns","title","key","width","align","dataIndex","render","record","format","txt","index","console","log","margin","demo","state","keys","isLoaded","total","componentDidMount","keyList","handleFetchKeyList","length","filteredList","isLoading","filter","float","paddingLeft","paddingLight","pageSize","onPaginationChange","onShowSizeChange","pageSizeOptions","mapStateToProps","mapDispatchToProps","dispatch","handleFilterKeyList","keyword"],"mappings":"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","sourcesContent":["/*\n\nCopyright <holder> All Rights Reserved\n\nSPDX-License-Identifier: Apache-2.0\n\n*/\nimport React, { Component } from \"react\";\nimport moment from \"moment\";\nimport { Card, Button, Popconfirm, Input } from \"antd\";\nimport { keysListApi } from \"../../service/keys\";\nimport DataTable from \"../../components/DataTable/DataTable\";\nimport { compose } from \"redux\";\nimport { withRouter } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { filterKeyList, fetchKeyList } from \"../../redux/actions/KeyAction\";\nconst { Search } = Input;\n\nclass Keys extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      keys: [],\n      isLoaded: false,\n      total: 0,\n    };\n  }\n  columns = [\n    {\n      title: \"ID\",\n      key: \"ID\",\n      width: 80,\n      align: \"center\",\n      dataIndex: \"ID\",\n      //render: (txt, record, index) => index + 1,\n    },\n    {\n      title: \"Name\",\n      dataIndex: \"Name\",\n      align: \"center\",\n    },\n    {\n      title: \"Owner\",\n      dataIndex: \"OwnerInfo.name\",\n      align: \"center\",\n    },\n    {\n      title: \"Created At\",\n      dataIndex: \"CreatedAt\",\n      align: \"center\",\n      render: (record) => (\n        <span>{moment(record).format(\"YYYY-MM-DD HH:mm:ss\")}</span>\n      ),\n    },\n    {\n      title: \"Action\",\n      align: \"center\",\n      render: (txt, record, index) => {\n        return (\n          <div>\n            <Popconfirm\n              title=\"Are you sure to delete?\"\n              onCancel={() => {\n                console.log(\"cancelled\");\n              }}\n              onConfirm={() => {\n                console.log(\"confirmed\");\n                //此处调用api接口进行相关操作\n              }}\n            >\n              <Button style={{ margin: \"0 1rem\" }} type=\"danger\" size=\"small\">\n                Delete\n              </Button>\n            </Popconfirm>\n          </div>\n        );\n      },\n    },\n  ];\n  componentDidMount() {\n    const { keyList } = this.props.key;\n    const { handleFetchKeyList } = this.props;\n    if (!keyList || keyList.length === 0) {\n      handleFetchKeyList();\n    }\n  }\n  demo = () => {\n    console.log(\"11\");\n  };\n  render() {\n    const { filteredList, isLoading } = this.props.key;\n\n    return (\n      <Card\n        title={\"Key Manage Panel\" + \"(Total: \" + filteredList.length + \")\"}\n        extra={\n          <div>\n            <Search\n              placeholder=\"Search...\"\n              onChange={this.filter}\n              enterButton\n            />\n            <Button\n              style={{\n                float: \"right\",\n                paddingLeft: \"10px\",\n                paddingLight: \"10px\",\n              }}\n              type=\"primary\"\n              onClick={this.demo}\n            >\n              Create\n            </Button>\n          </div>\n        }\n      >\n        <DataTable\n          rowKey=\"ID\"\n          columns={this.columns}\n          dataSource={filteredList}\n          bordered\n          total={filteredList.length}\n          pageSize={this.state.pageSize}\n          // scroll={{ y: 600, x: 600 }}\n          onPaginationChange={this.onPaginationChange}\n          onShowSizeChange={this.onShowSizeChange}\n          pageSizeOptions={this.state.pageSizeOptions}\n          loading={isLoading}\n        />\n      </Card>\n    );\n  }\n}\n\nconst mapStateToProps = ({ key }) => {\n  console.log(\"mapStateToProps-state-key\", key);\n  return {\n    key,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    handleFetchKeyList: () => dispatch(fetchKeyList()),\n    handleFilterKeyList: (keyword) => dispatch(filterKeyList(keyword)),\n  };\n};\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, mapDispatchToProps)\n)(Keys);\n"]},"metadata":{},"sourceType":"module"}