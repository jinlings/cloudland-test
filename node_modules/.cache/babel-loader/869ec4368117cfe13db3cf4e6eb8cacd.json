{"ast":null,"code":"var _jsxFileName = \"/Users/emily/cloudland/src/pages/instances/ModifyInstances.jsx\";\n\n/*\n\nCopyright <holder> All Rights Reserved\n\nSPDX-License-Identifier: Apache-2.0\n\n*/\nimport React, { Component } from \"react\";\nimport { Form, Card, Input, Select, Button, message, Row, Col, InputNumber } from \"antd\";\nimport CreateKeyModal from \"./CreateKeyModal\";\nimport { createInsApi, getInsInforById, editInsInfor } from \"../../service/instances\";\nimport { createKeyApi } from \"../../service/keys\";\nimport { hypersListApi } from \"../../service/hypers\";\nimport { imagesListApi } from \"../../service/images\";\nimport { flavorsListApi } from \"../../service/flavors\";\nimport { secgroupsListApi } from \"../../service/secgroups\";\nimport { subnetsListApi } from \"../../service/subnets\";\nimport { keysListApi } from \"../../service/keys\";\nimport \"./instances.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst layoutButton = {\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\nconst layoutForm = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 10\n  }\n};\n\nclass ModifyInstances extends Component {\n  constructor(props) {\n    super(props); //const { getFieldDecorator } = this.props.form;\n\n    this.listInstances = () => {\n      this.props.history.push(\"/instances\");\n    };\n\n    this.handleSubmit = e => {\n      console.log(\"handleSubmit:\", e);\n      e.preventDefault();\n      this.props.form.validateFieldsAndScroll((err, values) => {\n        if (!err) {\n          console.log(\"handleSubmit-value:\", values);\n          console.log(\"提交\");\n\n          if (this.props.match.params.id) {\n            let tempFlavorArr = values.flavor.split(\"-\");\n            let tempFlavor = parseInt(tempFlavorArr[0]);\n            values.flavor = tempFlavor;\n            console.log(\"tempFlavorArr\", tempFlavorArr);\n            console.log(\"tempFlavor\", tempFlavor);\n            console.log(\"values.flavor\", values.flavor);\n            console.log(\"instance-edit\", this.props.match.params.id, values);\n            editInsInfor(this.props.match.params.id, values).then(res => {\n              console.log(\"instance-editInsInfor:\", res);\n              this.props.history.push(\"/instances\");\n            });\n          } else {\n            values.hyper = values.hyper === undefined ? this.state.defaultHyper : values.hyper;\n            console.log(\"submit-value\", values);\n            createInsApi(values).then(res => {\n              console.log(\"handleSubmit-res-createInsApi:\", res);\n              this.props.history.push(\"/instances\"); // Utils.loadData(this.state.current, this.state.pageSize)\n            }).catch(err => {\n              console.log(\"handleSubmit-error:\", err);\n            });\n          }\n        } else {\n          message.error(\" input wrong information\");\n        }\n      });\n    };\n\n    this.valueChange = e => {\n      console.log(\"valueChange-e\", e);\n    };\n\n    this.filterZones = () => {\n      var initZone = [];\n      var newZone = [];\n      this.state.zones.map(item => {\n        if (initZone.indexOf(item[\"Name\"]) === -1) {\n          initZone.push(item[\"Name\"]);\n          newZone.push(item);\n          console.log(\"zonearr\", initZone);\n        }\n\n        return newZone;\n      });\n      this.setState({\n        zones: newZone\n      });\n      console.log(\"test111\", this.state.zones);\n    };\n\n    this.showKeyModal = () => {\n      this.setState({\n        visible: true\n      });\n      console.log(\"create key\");\n    };\n\n    this.hideKeyModal = () => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.createKey = values => {\n      // const p = this;\n      // const { form } = this.props;\n      console.log(\"createKey-form\", values);\n      createKeyApi(values).then(res => {\n        console.log(\"createKey-createKeyApi:\", res); // this.keyModalRef.props.form.resetFields();\n\n        this.setState({\n          visible: false\n        });\n      }).catch(err => {\n        console.log(\"createKey-error:\", err);\n      });\n    };\n\n    this.onKeyModalRef = ref => {\n      console.log(\"ref\", ref);\n      this.keyModalRef = ref;\n    };\n\n    console.log(\"ModifyInstances~~\", this);\n    this.state = {\n      value: \"\",\n      visible: false,\n      isShowEdit: false,\n      defaultHyper: -1,\n      currentData: [],\n      instFlavor: {},\n      instInterface: [],\n      instSubnet: [],\n      images: [],\n      hypers: [],\n      zones: [],\n      flavors: [],\n      keys: [],\n      secgroups: [],\n      subnets: []\n    };\n    let that = this;\n\n    if (props.match.params.id) {\n      getInsInforById(props.match.params.id).then(res => {\n        console.log(\"getInsInforById-res:\", res);\n        that.setState({\n          currentData: res.instance,\n          isShowEdit: true,\n          instFlavor: res.instance.Flavor,\n          instInterface: res.instance.Interfaces.map(iface => {\n            return iface.Address;\n          }),\n          instSubnet: res.instance.Interfaces.map(iface => {\n            return iface.Address.Subnet;\n          })\n        });\n        console.log(\"getInsInforById~instInterface:\", this.state.instInterface);\n        console.log(\"getInsInforById~state:\", this.state);\n      });\n    }\n\n    console.log(\"state-instance:\", that.state);\n  }\n\n  componentDidMount() {\n    const _this = this;\n\n    imagesListApi().then(res => {\n      _this.setState({\n        images: res.images,\n        isLoaded: true\n      });\n\n      console.log(\"images:\", res.images);\n    }).catch(error => {\n      _this.setState({\n        isLoaded: false,\n        error: error\n      });\n    });\n    hypersListApi().then(res => {\n      _this.setState({\n        hypers: res.hypers,\n        isLoaded: true\n      });\n\n      this.state.hypers.forEach(val => {\n        let zoneList = {\n          Name: val.Zone.Name,\n          ID: val.Zone.ID\n        };\n        this.state.zones.push(zoneList);\n      });\n      this.filterZones();\n    }).catch(error => {\n      _this.setState({\n        isLoaded: false,\n        error: error\n      });\n    });\n    flavorsListApi().then(res => {\n      _this.setState({\n        flavors: res.flavors,\n        isLoaded: true\n      });\n\n      console.log(\"flavors:\", res);\n    }).catch(error => {\n      _this.setState({\n        isLoaded: false,\n        error: error\n      });\n    });\n    subnetsListApi().then(res => {\n      _this.setState({\n        subnets: res.subnets,\n        isLoaded: true\n      });\n\n      console.log(\"instance-subnets\", this.state.subnets);\n    }).catch(error => {\n      _this.setState({\n        isLoaded: false,\n        error: error\n      });\n    });\n    secgroupsListApi().then(res => {\n      _this.setState({\n        secgroups: res.secgroups,\n        isLoaded: true\n      });\n\n      console.log(\"secgroup\", res.secgroups);\n    }).catch(error => {\n      _this.setState({\n        isLoaded: false,\n        error: error\n      });\n    });\n    keysListApi().then(res => {\n      console.log(\"componentDidMount-keys:\", res);\n\n      _this.setState({\n        keys: res.keys,\n        isLoaded: true\n      });\n    }).catch(error => {\n      _this.setState({\n        isLoaded: false,\n        error: error\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      title: this.state.isShowEdit ? \"Edit Instance\" : \"Create Instance\",\n      extra: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        size: \"small\",\n        onClick: this.listInstances,\n        children: \"Return\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 11\n      }, this),\n      children: [/*#__PURE__*/_jsxDEV(Form, {\n        layout: \"horizontal\",\n        onSubmit: e => {\n          this.handleSubmit(e);\n        },\n        wrapperCol: { ...layoutForm.wrapperCol\n        },\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Hostname (or prefix)\",\n          name: \"hostname\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          children: this.props.form.getFieldDecorator(\"hostname\", {\n            rules: [{\n              required: true\n            }],\n            initialValue: this.state.currentData.Hostname\n          })( /*#__PURE__*/_jsxDEV(Input, {\n            ref: c => {\n              this.hostname = c;\n            },\n            disabled: this.state.isShowEdit // onChange={(e) => this.setState({ hostname: e.target.value })}\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Hyper\",\n          name: \"hyper\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          children: this.props.form.getFieldDecorator(\"hyper\", {\n            rules: [],\n            initialValue: this.state.currentData.Hyper\n          })( /*#__PURE__*/_jsxDEV(Select, {\n            ref: c => {\n              this.hyper = c;\n            } // labelInValue\n            ,\n            disabled: this.state.isShowEdit // onChange={this.hyperChanged}\n            // name=\"hyper\"\n            // onChange={this.valueChange}\n            // allowClear=\"true\"\n            //placeholder=\"Auto\"\n            ,\n            children: this.state.hypers.map((item, index) => {\n              return /*#__PURE__*/_jsxDEV(Select.Option, {\n                value: index,\n                children: item.Hostname\n              }, item.ID, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Zone\",\n          name: \"zone\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          hidden: this.state.isShowEdit,\n          children: this.props.form.getFieldDecorator(\"zone\", {\n            rules: [],\n            initialValue: this.state.currentData.Hyper\n          })( /*#__PURE__*/_jsxDEV(Select, {\n            disabled: this.state.isShowEdit,\n            children: this.state.zones.map((item, index) => {\n              return /*#__PURE__*/_jsxDEV(Select.Option, {\n                value: item.ID,\n                children: item.Name\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Created At\",\n          name: \"createdAt\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          hidden: !this.state.isShowEdit,\n          children: this.props.form.getFieldDecorator(\"createdAt\", {\n            rules: [],\n            initialValue: this.state.currentData.CreatedAt\n          })( /*#__PURE__*/_jsxDEV(Input, {\n            disabled: this.state.isShowEdit,\n            name: \"createdAt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 16\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Updated At\",\n          name: \"updatedAt\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          hidden: !this.state.isShowEdit,\n          children: this.props.form.getFieldDecorator(\"updatedAt\", {\n            rules: [],\n            initialValue: this.state.currentData.UpdatedAt\n          })( /*#__PURE__*/_jsxDEV(Input, {\n            disabled: this.state.isShowEdit,\n            name: \"updatedAt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 16\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Count\",\n          name: \"count\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          hidden: this.state.isShowEdit,\n          children: this.props.form.getFieldDecorator(\"count\", {\n            rules: [{\n              required: true\n            } // {\n            //   validator: checkCount,\n            // },\n            ],\n            initialValue: 1\n          })( /*#__PURE__*/_jsxDEV(InputNumber, {\n            min: 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 16\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"image\",\n          label: \"Image\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          hidden: this.state.isShowEdit,\n          children: this.props.form.getFieldDecorator(\"image\", {\n            rules: [{\n              required: !this.state.isShowEdit\n            }]\n          })( /*#__PURE__*/_jsxDEV(Select, {\n            disabled: this.state.isShowEdit,\n            children: this.state.images.map(val => {\n              return /*#__PURE__*/_jsxDEV(Select.Option, {\n                value: val.ID,\n                children: val.Name\n              }, val.ID, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"flavor\",\n          label: \"Flavor\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          children: this.props.form.getFieldDecorator(\"flavor\", {\n            rules: [{\n              required: true\n            }],\n            initialValue: this.state.currentData.length === 0 ? \"\" : this.state.currentData.FlavorID + \"-\" + this.state.instFlavor.Name\n          })( /*#__PURE__*/_jsxDEV(Select, {\n            children: this.state.flavors.map(val => {\n              return /*#__PURE__*/_jsxDEV(Select.Option, {\n                value: val.ID,\n                children: val.Name\n              }, val.ID, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"primary\",\n          label: \"Primary Interface\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          hidden: this.state.isShowEdit,\n          children: this.props.form.getFieldDecorator(\"primary\", {\n            rules: [{\n              required: !this.state.isShowEdit\n            }]\n          })( /*#__PURE__*/_jsxDEV(Select, {\n            disabled: this.state.isShowEdit,\n            children: this.state.subnets.map(val => {\n              if (val.Name === \"public\" || val.Name === \"private\" || val.Name === window.localStorage.token) {\n                return /*#__PURE__*/_jsxDEV(Select.Option, {\n                  value: val.ID,\n                  children: [val.Name, \"-\", val.Network, val.Gateway.substring(val.Gateway.indexOf(\"/\"))]\n                }, val.ID, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 23\n                }, this);\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"primaryID\",\n          label: \"Primary IP\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          hidden: this.state.isShowEdit,\n          children: this.props.form.getFieldDecorator(\"primaryID\", {\n            rules: []\n          })( /*#__PURE__*/_jsxDEV(Input, {\n            name: \"primaryid\" // onChange={(e) => this.setState({ primaryid: e.target.value })}\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"primaryMac\",\n          label: \"Primary Mac\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          hidden: this.state.isShowEdit,\n          children: this.props.form.getFieldDecorator(\"primaryMac\", {\n            rules: []\n          })( /*#__PURE__*/_jsxDEV(Input, {\n            name: \"primaryMac\" // onChange={(e) => this.setState({ primaryMac: e.target.value })}\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"secondary\",\n          label: \"Secondary Interface\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          hidden: this.state.isShowEdit,\n          children: this.props.form.getFieldDecorator(\"secondary\", {\n            rules: []\n          })( /*#__PURE__*/_jsxDEV(Select, {\n            disabled: this.state.isShowEdit,\n            children: this.state.subnets.map((val, index) => {\n              if (val.Name === \"public\" || val.Name === \"private\" || val.Name === window.localStorage.token) {\n                return /*#__PURE__*/_jsxDEV(Select.Option, {\n                  value: val.ID,\n                  children: [val.Name, \"-\", val.Network, val.Gateway.substring(val.Gateway.indexOf(\"/\"))]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 23\n                }, this);\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"secgroups\",\n          label: \"Security Groups\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          hidden: this.state.isShowEdit,\n          children: this.props.form.getFieldDecorator(\"secgroups\", {\n            rules: [] // initialValue: window.localStorage.token,\n\n          })( /*#__PURE__*/_jsxDEV(Select, {\n            disabled: this.state.isShowEdit,\n            children: this.state.secgroups.map((val, index) => {\n              return /*#__PURE__*/_jsxDEV(Select.Option, {\n                value: `${val.ID}`,\n                children: [val.ID, \"-\", val.Name]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Interfaces\",\n          name: \"interfaces\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          hidden: !this.state.isShowEdit,\n          children: this.props.form.getFieldDecorator(\"interfaces\", {\n            rules: [],\n            initialValue: this.state.currentData.length === 0 ? \"\" : this.state.instSubnet.map(iSubnet => {\n              return iSubnet.Name;\n            }) + \"-\" + this.state.instInterface.map(ifaces => {\n              return ifaces.Address;\n            })\n          })( /*#__PURE__*/_jsxDEV(Select, {\n            mode: \"tags\",\n            style: {\n              width: \"100%\"\n            },\n            placeholder: \"Please select\",\n            onChange: this.handleChange,\n            children: this.state.instInterface.map(ifaces => {\n              console.log(\"select-instInterface\", ifaces);\n              return /*#__PURE__*/_jsxDEV(Select.Option, {\n                value: `${ifaces.SubnetID}`,\n                children: [this.state.instSubnet.map(isubnet => {\n                  return isubnet.Name;\n                }), \"-\", ifaces.Address]\n              }, ifaces.ID, true, {\n                fileName: _jsxFileName,\n                lineNumber: 592,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Keys\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          hidden: this.state.isShowEdit,\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            gutter: 8,\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              span: 15,\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"keys\",\n                children: this.props.form.getFieldDecorator(\"keys\", {\n                  rules: [] // initialValue: this.state.keys,\n\n                })( /*#__PURE__*/_jsxDEV(Select, {\n                  mode: \"tags\",\n                  style: {\n                    width: \"100%\"\n                  },\n                  placeholder: \"Key\",\n                  disabled: this.state.isShowEdit,\n                  children: this.state.keys.map((val, index) => {\n                    return /*#__PURE__*/_jsxDEV(Select.Option, {\n                      value: `${val.ID}`,\n                      children: [val.ID, \" - \", val.Name]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 623,\n                      columnNumber: 27\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 615,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 5,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"primary\",\n                onClick: this.showKeyModal,\n                children: \"Create Key\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"userdata\",\n          label: \"User Data\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          hidden: this.state.isShowEdit,\n          children: this.props.form.getFieldDecorator(\"userdata\", {\n            rules: [],\n            initialValue: this.state.currentData.Userdata\n          })( /*#__PURE__*/_jsxDEV(Input.TextArea, {\n            autoSize: {\n              minRows: 3,\n              maxRows: 6\n            },\n            name: \"userdata\" // onChange={(e) => this.setState({ userdata: e.target.value })}\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 649,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          wrapperCol: { ...layoutButton.wrapperCol,\n            offset: 8\n          },\n          labelCol: {\n            span: 6\n          },\n          children: this.state.isShowEdit ? /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            children: \"Update Instance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 661,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            children: \"Create Instance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CreateKeyModal, {\n        onRef: this.onKeyModalRef,\n        title: \"Create New Key\",\n        visible: this.state.visible,\n        submit: this.createKey.bind(this),\n        close: () => {\n          this.setState({\n            visible: false\n          });\n          this.keyModalRef.props.form.resetFields();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 671,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Form.create({\n  name: \"modifyInstances\"\n})(ModifyInstances);","map":{"version":3,"sources":["/Users/emily/cloudland/src/pages/instances/ModifyInstances.jsx"],"names":["React","Component","Form","Card","Input","Select","Button","message","Row","Col","InputNumber","CreateKeyModal","createInsApi","getInsInforById","editInsInfor","createKeyApi","hypersListApi","imagesListApi","flavorsListApi","secgroupsListApi","subnetsListApi","keysListApi","layoutButton","labelCol","span","wrapperCol","layoutForm","ModifyInstances","constructor","props","listInstances","history","push","handleSubmit","e","console","log","preventDefault","form","validateFieldsAndScroll","err","values","match","params","id","tempFlavorArr","flavor","split","tempFlavor","parseInt","then","res","hyper","undefined","state","defaultHyper","catch","error","valueChange","filterZones","initZone","newZone","zones","map","item","indexOf","setState","showKeyModal","visible","hideKeyModal","createKey","onKeyModalRef","ref","keyModalRef","value","isShowEdit","currentData","instFlavor","instInterface","instSubnet","images","hypers","flavors","keys","secgroups","subnets","that","instance","Flavor","Interfaces","iface","Address","Subnet","componentDidMount","_this","isLoaded","forEach","val","zoneList","Name","Zone","ID","render","getFieldDecorator","rules","required","initialValue","Hostname","c","hostname","Hyper","index","CreatedAt","UpdatedAt","length","FlavorID","window","localStorage","token","Network","Gateway","substring","iSubnet","ifaces","width","handleChange","SubnetID","isubnet","Userdata","minRows","maxRows","offset","bind","resetFields","create","name"],"mappings":"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","sourcesContent":["/*\n\nCopyright <holder> All Rights Reserved\n\nSPDX-License-Identifier: Apache-2.0\n\n*/\nimport React, { Component } from \"react\";\nimport {\n  Form,\n  Card,\n  Input,\n  Select,\n  Button,\n  message,\n  Row,\n  Col,\n  InputNumber,\n} from \"antd\";\nimport CreateKeyModal from \"./CreateKeyModal\";\nimport {\n  createInsApi,\n  getInsInforById,\n  editInsInfor,\n} from \"../../service/instances\";\nimport { createKeyApi } from \"../../service/keys\";\nimport { hypersListApi } from \"../../service/hypers\";\nimport { imagesListApi } from \"../../service/images\";\nimport { flavorsListApi } from \"../../service/flavors\";\nimport { secgroupsListApi } from \"../../service/secgroups\";\nimport { subnetsListApi } from \"../../service/subnets\";\nimport { keysListApi } from \"../../service/keys\";\nimport \"./instances.css\";\nconst layoutButton = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst layoutForm = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 10 },\n};\n\nclass ModifyInstances extends Component {\n  constructor(props) {\n    super(props);\n    //const { getFieldDecorator } = this.props.form;\n    console.log(\"ModifyInstances~~\", this);\n    this.state = {\n      value: \"\",\n      visible: false,\n      isShowEdit: false,\n      defaultHyper: -1,\n      currentData: [],\n      instFlavor: {},\n      instInterface: [],\n      instSubnet: [],\n      images: [],\n      hypers: [],\n      zones: [],\n      flavors: [],\n      keys: [],\n      secgroups: [],\n      subnets: [],\n    };\n    let that = this;\n    if (props.match.params.id) {\n      getInsInforById(props.match.params.id).then((res) => {\n        console.log(\"getInsInforById-res:\", res);\n        that.setState({\n          currentData: res.instance,\n          isShowEdit: true,\n\n          instFlavor: res.instance.Flavor,\n          instInterface: res.instance.Interfaces.map((iface) => {\n            return iface.Address;\n          }),\n          instSubnet: res.instance.Interfaces.map((iface) => {\n            return iface.Address.Subnet;\n          }),\n        });\n        console.log(\"getInsInforById~instInterface:\", this.state.instInterface);\n        console.log(\"getInsInforById~state:\", this.state);\n      });\n    }\n    console.log(\"state-instance:\", that.state);\n  }\n  listInstances = () => {\n    this.props.history.push(\"/instances\");\n  };\n  handleSubmit = (e) => {\n    console.log(\"handleSubmit:\", e);\n    e.preventDefault();\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      if (!err) {\n        console.log(\"handleSubmit-value:\", values);\n        console.log(\"提交\");\n        if (this.props.match.params.id) {\n          let tempFlavorArr = values.flavor.split(\"-\");\n          let tempFlavor = parseInt(tempFlavorArr[0]);\n          values.flavor = tempFlavor;\n          console.log(\"tempFlavorArr\", tempFlavorArr);\n          console.log(\"tempFlavor\", tempFlavor);\n          console.log(\"values.flavor\", values.flavor);\n          console.log(\"instance-edit\", this.props.match.params.id, values);\n          editInsInfor(this.props.match.params.id, values).then((res) => {\n            console.log(\"instance-editInsInfor:\", res);\n            this.props.history.push(\"/instances\");\n          });\n        } else {\n          values.hyper =\n            values.hyper === undefined ? this.state.defaultHyper : values.hyper;\n\n          console.log(\"submit-value\", values);\n          createInsApi(values)\n            .then((res) => {\n              console.log(\"handleSubmit-res-createInsApi:\", res);\n              this.props.history.push(\"/instances\");\n              // Utils.loadData(this.state.current, this.state.pageSize)\n            })\n            .catch((err) => {\n              console.log(\"handleSubmit-error:\", err);\n            });\n        }\n      } else {\n        message.error(\" input wrong information\");\n      }\n    });\n  };\n  valueChange = (e) => {\n    console.log(\"valueChange-e\", e);\n  };\n  filterZones = () => {\n    var initZone = [];\n    var newZone = [];\n    this.state.zones.map((item) => {\n      if (initZone.indexOf(item[\"Name\"]) === -1) {\n        initZone.push(item[\"Name\"]);\n        newZone.push(item);\n        console.log(\"zonearr\", initZone);\n      }\n      return newZone;\n    });\n    this.setState({\n      zones: newZone,\n    });\n\n    console.log(\"test111\", this.state.zones);\n  };\n  showKeyModal = () => {\n    this.setState({ visible: true });\n    console.log(\"create key\");\n  };\n  hideKeyModal = () => {\n    this.setState({ visible: false });\n  };\n  createKey = (values) => {\n    // const p = this;\n    // const { form } = this.props;\n    console.log(\"createKey-form\", values);\n    createKeyApi(values)\n      .then((res) => {\n        console.log(\"createKey-createKeyApi:\", res);\n        // this.keyModalRef.props.form.resetFields();\n        this.setState({\n          visible: false,\n        });\n      })\n      .catch((err) => {\n        console.log(\"createKey-error:\", err);\n      });\n  };\n  onKeyModalRef = (ref) => {\n    console.log(\"ref\", ref);\n    this.keyModalRef = ref;\n  };\n  componentDidMount() {\n    const _this = this;\n    imagesListApi()\n      .then((res) => {\n        _this.setState({\n          images: res.images,\n          isLoaded: true,\n        });\n        console.log(\"images:\", res.images);\n      })\n      .catch((error) => {\n        _this.setState({\n          isLoaded: false,\n          error: error,\n        });\n      });\n    hypersListApi()\n      .then((res) => {\n        _this.setState({\n          hypers: res.hypers,\n          isLoaded: true,\n        });\n        this.state.hypers.forEach((val) => {\n          let zoneList = {\n            Name: val.Zone.Name,\n            ID: val.Zone.ID,\n          };\n          this.state.zones.push(zoneList);\n        });\n        this.filterZones();\n      })\n      .catch((error) => {\n        _this.setState({\n          isLoaded: false,\n          error: error,\n        });\n      });\n    flavorsListApi()\n      .then((res) => {\n        _this.setState({\n          flavors: res.flavors,\n          isLoaded: true,\n        });\n        console.log(\"flavors:\", res);\n      })\n      .catch((error) => {\n        _this.setState({\n          isLoaded: false,\n          error: error,\n        });\n      });\n    subnetsListApi()\n      .then((res) => {\n        _this.setState({\n          subnets: res.subnets,\n          isLoaded: true,\n        });\n\n        console.log(\"instance-subnets\", this.state.subnets);\n      })\n      .catch((error) => {\n        _this.setState({\n          isLoaded: false,\n          error: error,\n        });\n      });\n    secgroupsListApi()\n      .then((res) => {\n        _this.setState({\n          secgroups: res.secgroups,\n          isLoaded: true,\n        });\n        console.log(\"secgroup\", res.secgroups);\n      })\n      .catch((error) => {\n        _this.setState({\n          isLoaded: false,\n          error: error,\n        });\n      });\n    keysListApi()\n      .then((res) => {\n        console.log(\"componentDidMount-keys:\", res);\n        _this.setState({\n          keys: res.keys,\n          isLoaded: true,\n        });\n      })\n      .catch((error) => {\n        _this.setState({\n          isLoaded: false,\n          error: error,\n        });\n      });\n  }\n  render() {\n    return (\n      <Card\n        title={this.state.isShowEdit ? \"Edit Instance\" : \"Create Instance\"}\n        extra={\n          <Button type=\"primary\" size=\"small\" onClick={this.listInstances}>\n            Return\n          </Button>\n        }\n      >\n        <Form\n          layout=\"horizontal\"\n          onSubmit={(e) => {\n            this.handleSubmit(e);\n          }}\n          wrapperCol={{ ...layoutForm.wrapperCol }}\n        >\n          <Form.Item\n            label=\"Hostname (or prefix)\"\n            name=\"hostname\"\n            labelCol={{ ...layoutForm.labelCol }}\n          >\n            {this.props.form.getFieldDecorator(\"hostname\", {\n              rules: [\n                {\n                  required: true,\n                },\n              ],\n              initialValue: this.state.currentData.Hostname,\n            })(\n              <Input\n                ref={(c) => {\n                  this.hostname = c;\n                }}\n                disabled={this.state.isShowEdit}\n                // onChange={(e) => this.setState({ hostname: e.target.value })}\n              />\n            )}\n          </Form.Item>\n          <Form.Item\n            label=\"Hyper\"\n            name=\"hyper\"\n            labelCol={{ ...layoutForm.labelCol }}\n          >\n            {this.props.form.getFieldDecorator(\"hyper\", {\n              rules: [],\n              initialValue: this.state.currentData.Hyper,\n            })(\n              <Select\n                ref={(c) => {\n                  this.hyper = c;\n                }}\n                // labelInValue\n                disabled={this.state.isShowEdit}\n                // onChange={this.hyperChanged}\n                // name=\"hyper\"\n                // onChange={this.valueChange}\n                // allowClear=\"true\"\n                //placeholder=\"Auto\"\n              >\n                {this.state.hypers.map((item, index) => {\n                  return (\n                    <Select.Option key={item.ID} value={index}>\n                      {item.Hostname}\n                    </Select.Option>\n                  );\n                })}\n              </Select>\n            )}\n          </Form.Item>\n          <Form.Item\n            label=\"Zone\"\n            name=\"zone\"\n            labelCol={{ ...layoutForm.labelCol }}\n            hidden={this.state.isShowEdit}\n          >\n            {this.props.form.getFieldDecorator(\"zone\", {\n              rules: [],\n              initialValue: this.state.currentData.Hyper,\n            })(\n              <Select disabled={this.state.isShowEdit}>\n                {this.state.zones.map((item, index) => {\n                  return (\n                    <Select.Option key={index} value={item.ID}>\n                      {item.Name}\n                    </Select.Option>\n                  );\n                })}\n              </Select>\n            )}\n          </Form.Item>\n          <Form.Item\n            label=\"Created At\"\n            name=\"createdAt\"\n            labelCol={{ ...layoutForm.labelCol }}\n            hidden={!this.state.isShowEdit}\n          >\n            {this.props.form.getFieldDecorator(\"createdAt\", {\n              rules: [],\n              initialValue: this.state.currentData.CreatedAt,\n            })(<Input disabled={this.state.isShowEdit} name=\"createdAt\" />)}\n          </Form.Item>\n          <Form.Item\n            label=\"Updated At\"\n            name=\"updatedAt\"\n            labelCol={{ ...layoutForm.labelCol }}\n            hidden={!this.state.isShowEdit}\n          >\n            {this.props.form.getFieldDecorator(\"updatedAt\", {\n              rules: [],\n              initialValue: this.state.currentData.UpdatedAt,\n            })(<Input disabled={this.state.isShowEdit} name=\"updatedAt\" />)}\n          </Form.Item>\n          <Form.Item\n            label=\"Count\"\n            name=\"count\"\n            labelCol={{ ...layoutForm.labelCol }}\n            hidden={this.state.isShowEdit}\n          >\n            {this.props.form.getFieldDecorator(\"count\", {\n              rules: [\n                {\n                  required: true,\n                },\n                // {\n                //   validator: checkCount,\n                // },\n              ],\n              initialValue: 1,\n            })(<InputNumber min={1} />)}\n          </Form.Item>\n          <Form.Item\n            name=\"image\"\n            label=\"Image\"\n            labelCol={{ ...layoutForm.labelCol }}\n            hidden={this.state.isShowEdit}\n          >\n            {this.props.form.getFieldDecorator(\"image\", {\n              rules: [\n                {\n                  required: !this.state.isShowEdit,\n                },\n              ],\n            })(\n              <Select disabled={this.state.isShowEdit}>\n                {this.state.images.map((val) => {\n                  return (\n                    <Select.Option key={val.ID} value={val.ID}>\n                      {val.Name}\n                    </Select.Option>\n                  );\n                })}\n              </Select>\n            )}\n          </Form.Item>\n          <Form.Item\n            name=\"flavor\"\n            label=\"Flavor\"\n            labelCol={{ ...layoutForm.labelCol }}\n          >\n            {this.props.form.getFieldDecorator(\"flavor\", {\n              rules: [\n                {\n                  required: true,\n                },\n              ],\n              initialValue:\n                this.state.currentData.length === 0\n                  ? \"\"\n                  : this.state.currentData.FlavorID +\n                    \"-\" +\n                    this.state.instFlavor.Name,\n            })(\n              <Select>\n                {this.state.flavors.map((val) => {\n                  return (\n                    <Select.Option key={val.ID} value={val.ID}>\n                      {val.Name}\n                    </Select.Option>\n                  );\n                })}\n              </Select>\n            )}\n          </Form.Item>\n          <Form.Item\n            name=\"primary\"\n            label=\"Primary Interface\"\n            labelCol={{ ...layoutForm.labelCol }}\n            hidden={this.state.isShowEdit}\n          >\n            {this.props.form.getFieldDecorator(\"primary\", {\n              rules: [\n                {\n                  required: !this.state.isShowEdit,\n                },\n              ],\n            })(\n              <Select disabled={this.state.isShowEdit}>\n                {this.state.subnets.map((val) => {\n                  if (\n                    val.Name === \"public\" ||\n                    val.Name === \"private\" ||\n                    val.Name === window.localStorage.token\n                  ) {\n                    return (\n                      <Select.Option key={val.ID} value={val.ID}>\n                        {val.Name}-{val.Network}\n                        {val.Gateway.substring(val.Gateway.indexOf(\"/\"))}\n                      </Select.Option>\n                    );\n                  }\n                })}\n              </Select>\n            )}\n          </Form.Item>\n          <Form.Item\n            name=\"primaryID\"\n            label=\"Primary IP\"\n            labelCol={{ ...layoutForm.labelCol }}\n            hidden={this.state.isShowEdit}\n          >\n            {this.props.form.getFieldDecorator(\"primaryID\", {\n              rules: [],\n            })(\n              <Input\n                name=\"primaryid\"\n                // onChange={(e) => this.setState({ primaryid: e.target.value })}\n              />\n            )}\n          </Form.Item>\n          <Form.Item\n            name=\"primaryMac\"\n            label=\"Primary Mac\"\n            labelCol={{ ...layoutForm.labelCol }}\n            hidden={this.state.isShowEdit}\n          >\n            {this.props.form.getFieldDecorator(\"primaryMac\", {\n              rules: [],\n            })(\n              <Input\n                name=\"primaryMac\"\n                // onChange={(e) => this.setState({ primaryMac: e.target.value })}\n              />\n            )}\n          </Form.Item>\n          <Form.Item\n            name=\"secondary\"\n            label=\"Secondary Interface\"\n            labelCol={{ ...layoutForm.labelCol }}\n            hidden={this.state.isShowEdit}\n          >\n            {this.props.form.getFieldDecorator(\"secondary\", {\n              rules: [],\n            })(\n              <Select disabled={this.state.isShowEdit}>\n                {this.state.subnets.map((val, index) => {\n                  if (\n                    val.Name === \"public\" ||\n                    val.Name === \"private\" ||\n                    val.Name === window.localStorage.token\n                  ) {\n                    return (\n                      <Select.Option key={index} value={val.ID}>\n                        {val.Name}-{val.Network}\n                        {val.Gateway.substring(val.Gateway.indexOf(\"/\"))}\n                      </Select.Option>\n                    );\n                  }\n                })}\n              </Select>\n            )}\n          </Form.Item>\n          <Form.Item\n            name=\"secgroups\"\n            label=\"Security Groups\"\n            labelCol={{ ...layoutForm.labelCol }}\n            hidden={this.state.isShowEdit}\n          >\n            {this.props.form.getFieldDecorator(\"secgroups\", {\n              rules: [],\n              // initialValue: window.localStorage.token,\n            })(\n              <Select disabled={this.state.isShowEdit}>\n                {this.state.secgroups.map((val, index) => {\n                  return (\n                    <Select.Option key={index} value={`${val.ID}`}>\n                      {val.ID}-{val.Name}\n                    </Select.Option>\n                  );\n                })}\n              </Select>\n            )}\n          </Form.Item>\n          <Form.Item\n            label=\"Interfaces\"\n            name=\"interfaces\"\n            labelCol={{ ...layoutForm.labelCol }}\n            hidden={!this.state.isShowEdit}\n          >\n            {this.props.form.getFieldDecorator(\"interfaces\", {\n              rules: [],\n              initialValue:\n                this.state.currentData.length === 0\n                  ? \"\"\n                  : this.state.instSubnet.map((iSubnet) => {\n                      return iSubnet.Name;\n                    }) +\n                    \"-\" +\n                    this.state.instInterface.map((ifaces) => {\n                      return ifaces.Address;\n                    }),\n            })(\n              <Select\n                mode=\"tags\"\n                style={{ width: \"100%\" }}\n                placeholder=\"Please select\"\n                onChange={this.handleChange}\n              >\n                {this.state.instInterface.map((ifaces) => {\n                  console.log(\"select-instInterface\", ifaces);\n                  return (\n                    <Select.Option key={ifaces.ID} value={`${ifaces.SubnetID}`}>\n                      {this.state.instSubnet.map((isubnet) => {\n                        return isubnet.Name;\n                      })}\n                      -{ifaces.Address}\n                    </Select.Option>\n                  );\n                })}\n              </Select>\n            )}\n          </Form.Item>\n          <Form.Item\n            label=\"Keys\"\n            labelCol={{ ...layoutForm.labelCol }}\n            hidden={this.state.isShowEdit}\n          >\n            <Row gutter={8}>\n              <Col span={15}>\n                <Form.Item name=\"keys\">\n                  {this.props.form.getFieldDecorator(\"keys\", {\n                    rules: [],\n                    // initialValue: this.state.keys,\n                  })(\n                    <Select\n                      mode=\"tags\"\n                      style={{ width: \"100%\" }}\n                      placeholder=\"Key\"\n                      disabled={this.state.isShowEdit}\n                    >\n                      {this.state.keys.map((val, index) => {\n                        return (\n                          <Select.Option key={index} value={`${val.ID}`}>\n                            {val.ID} - {val.Name}\n                          </Select.Option>\n                        );\n                      })}\n                    </Select>\n                  )}\n                </Form.Item>\n              </Col>\n              <Col span={5}>\n                <Button type=\"primary\" onClick={this.showKeyModal}>\n                  Create Key\n                </Button>\n              </Col>\n            </Row>\n          </Form.Item>\n          <Form.Item\n            name=\"userdata\"\n            label=\"User Data\"\n            labelCol={{ ...layoutForm.labelCol }}\n            hidden={this.state.isShowEdit}\n          >\n            {this.props.form.getFieldDecorator(\"userdata\", {\n              rules: [],\n              initialValue: this.state.currentData.Userdata,\n            })(\n              <Input.TextArea\n                autoSize={{ minRows: 3, maxRows: 6 }}\n                name=\"userdata\"\n                // onChange={(e) => this.setState({ userdata: e.target.value })}\n              />\n            )}\n          </Form.Item>\n          <Form.Item\n            wrapperCol={{ ...layoutButton.wrapperCol, offset: 8 }}\n            labelCol={{ span: 6 }}\n          >\n            {this.state.isShowEdit ? (\n              <Button type=\"primary\" htmlType=\"submit\">\n                Update Instance\n              </Button>\n            ) : (\n              <Button type=\"primary\" htmlType=\"submit\">\n                Create Instance\n              </Button>\n            )}\n          </Form.Item>\n        </Form>\n        <CreateKeyModal\n          onRef={this.onKeyModalRef}\n          title=\"Create New Key\"\n          visible={this.state.visible}\n          submit={this.createKey.bind(this)}\n          close={() => {\n            this.setState({\n              visible: false,\n            });\n            this.keyModalRef.props.form.resetFields();\n          }}\n        ></CreateKeyModal>\n      </Card>\n    );\n  }\n}\nexport default Form.create({ name: \"modifyInstances\" })(ModifyInstances);\n"]},"metadata":{},"sourceType":"module"}