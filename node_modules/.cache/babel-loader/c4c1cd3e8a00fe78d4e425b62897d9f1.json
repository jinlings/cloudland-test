{"ast":null,"code":"import _objectSpread from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/*\n\nCopyright <holder> All Rights Reserved\n\nSPDX-License-Identifier: Apache-2.0\n\n*/import React,{Component}from\"react\";import{Input,Select,Form,Modal}from\"antd\";import{hypersListApi}from\"../../service/hypers\";import Utils from\"./Instances\";import{flavorsListApi}from\"../../service/flavors\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var layoutForm={labelCol:{span:8},wrapperCol:{span:10},layouttype:\"horizontal\"};var Option=Select.Option;var InstModal=/*#__PURE__*/function(_Component){_inherits(InstModal,_Component);var _super=_createSuper(InstModal);function InstModal(props){var _this2;_classCallCheck(this,InstModal);_this2=_super.call(this,props);_this2.handleOk=function(){var p=_assertThisInitialized(_this2);var form=_this2.props.form;console.log(\"handleOk-form\",_this2.props);form.validateFieldsAndScroll(function(err,values){console.log(\"handleOk\",values);if(err){return;}// this.state.fileList?values.image = this.state.fileList : []\np.props.submit(values);});};_this2.handleCancel=function(){var close=_this2.props.close;close();};_this2.initFormList=function(){var p=_assertThisInitialized(_this2);var getFieldDecorator=p.props.form.getFieldDecorator;var modalFormList=_this2.props.modalFormList;console.log(\"basic-modalFormList\",modalFormList);var formItemList=[];if(modalFormList&&modalFormList.length>0){modalFormList.forEach(function(item){console.log(\"modalFormList-item\",item);var label=item.label;var rules=item.rules;var rulesType=rules||[{required:true,message:\"\".concat(label,\"\\u5FC5\\u586B\")}];var initialValue=item.initialValue||undefined;var placeholder=item.placeholder;var width=item.width;var style=item.style;var name=item.name;var disabled=item.disabled;var formItemLayout={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}};if(item.field===_this2.props.title){if(item.type===\"INPUT\"){var INPUT=/*#__PURE__*/_jsx(Form.Item,_objectSpread(_objectSpread({label:label,name:name,style:style},formItemLayout),{},{children:getFieldDecorator(\"\".concat(name),{rules:rulesType,initialValue:initialValue})(/*#__PURE__*/_jsx(Input,{type:\"text\",disabled:disabled||false,style:{width:width}// placeholder={placeholder}\n}))}));formItemList.push(INPUT);}else if(item.type===\"SELECT\"){if(name){switch(name){case\"flavor\":{var SELECT=/*#__PURE__*/_jsx(Form.Item,_objectSpread(_objectSpread({label:label,name:name},formItemLayout),{},{children:getFieldDecorator(\"\".concat(name),{initialValue:initialValue// true | false\n})(/*#__PURE__*/_jsx(Select,{style:{width:width},placeholder:placeholder,children:_this2.getOptionList(_this2.state.flavors)}))}));return formItemList.push(SELECT);}case\"hyper\":{var _SELECT=/*#__PURE__*/_jsx(Form.Item,_objectSpread(_objectSpread({label:label,name:name},formItemLayout),{},{children:getFieldDecorator(\"\".concat(name),{initialValue:initialValue// true | false\n})(/*#__PURE__*/_jsx(Select,{style:{width:width},placeholder:placeholder,children:_this2.getOptionHyperList(_this2.state.hypers)}))}));return formItemList.push(_SELECT);}case\"action\":{var _SELECT2=/*#__PURE__*/_jsx(Form.Item,_objectSpread(_objectSpread({label:label,name:name},formItemLayout),{},{children:getFieldDecorator(\"\".concat(name),{initialValue:initialValue// true | false\n})(/*#__PURE__*/_jsxs(Select,{style:{width:width},placeholder:placeholder,children:[/*#__PURE__*/_jsx(Option,{value:\"stop\",children:\"stop\"},\"stop\"),/*#__PURE__*/_jsx(Option,{value:\"start\",children:\"start\"},\"start\")]}))}));return formItemList.push(_SELECT2);}default:return null;}}}}});}return formItemList;};_this2.state={flavors:[],hypers:[],status:[],isLoaded:false};return _this2;}_createClass(InstModal,[{key:\"componentWillMount\",value:function componentWillMount(){var _this3=this;this.props.onRef(this);var _this=this;flavorsListApi().then(function(res){_this.setState({flavors:res.flavors,isLoaded:true});console.log(\"flavors:\",res);}).catch(function(error){_this.setState({isLoaded:false,error:error});});hypersListApi().then(function(res){_this.setState({hypers:res.hypers,isLoaded:true});console.log(\"hypersListApi~~\",_this3.state.hypers);}).catch(function(error){_this.setState({isLoaded:false,error:error});});}},{key:\"getOptionList\",value:function getOptionList(data){console.log(\"getOptionList\",data);if(!data){return[];}var options=[];data.map(function(item){options.push(/*#__PURE__*/_jsx(Option,{value:item.ID,children:item.Name},item.ID));});return options;}},{key:\"getOptionHyperList\",value:function getOptionHyperList(data){console.log(\"getOptionList\",data);if(!data){return[];}var options=[];data.map(function(item,index){options.push(/*#__PURE__*/_jsx(Option,{value:index,children:item.Hostname},item.ID));});return options;}},{key:\"render\",value:function render(){var p=this;console.log(\"instModal-key\",this.props.key);// const { getFieldDecorator } = this.props.form;\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Modal,{destroyOnClose:true,title:this.props.title,visible:this.props.visible,onOk:this.handleOk,onCancel:this.handleCancel,maskClosable:false,children:/*#__PURE__*/_jsx(Form,{onSubmit:function onSubmit(e){console.log(\"modal-e\",e);// this.handleModalSubmit(e);\n}//   layout={{ ...layoutForm.LayoutType }}\n,wrapperCol:_objectSpread({},layoutForm.wrapperCol),children:p.initFormList()})})});}}]);return InstModal;}(Component);export default Form.create({name:\"instModal\"})(InstModal);","map":{"version":3,"sources":["/Users/emily/cloudland/src/pages/instances/InstModal.jsx"],"names":["React","Component","Input","Select","Form","Modal","hypersListApi","Utils","flavorsListApi","layoutForm","labelCol","span","wrapperCol","layouttype","Option","InstModal","props","handleOk","p","form","console","log","validateFieldsAndScroll","err","values","submit","handleCancel","close","initFormList","getFieldDecorator","modalFormList","formItemList","length","forEach","item","label","rules","rulesType","required","message","initialValue","undefined","placeholder","width","style","name","disabled","formItemLayout","xs","sm","field","title","type","INPUT","push","SELECT","getOptionList","state","flavors","getOptionHyperList","hypers","status","isLoaded","onRef","_this","then","res","setState","catch","error","data","options","map","ID","Name","index","Hostname","key","visible","e","create"],"mappings":"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","sourcesContent":["/*\n\nCopyright <holder> All Rights Reserved\n\nSPDX-License-Identifier: Apache-2.0\n\n*/\nimport React, { Component } from \"react\";\nimport { Input, Select, Form, Modal } from \"antd\";\nimport { hypersListApi } from \"../../service/hypers\";\nimport Utils from \"./Instances\";\nimport { flavorsListApi } from \"../../service/flavors\";\nconst layoutForm = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 10 },\n  layouttype: \"horizontal\",\n};\nconst { Option } = Select;\nclass InstModal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      flavors: [],\n      hypers: [],\n      status: [],\n      isLoaded: false,\n    };\n  }\n  componentWillMount() {\n    this.props.onRef(this);\n    const _this = this;\n    flavorsListApi()\n      .then((res) => {\n        _this.setState({\n          flavors: res.flavors,\n          isLoaded: true,\n        });\n        console.log(\"flavors:\", res);\n      })\n      .catch((error) => {\n        _this.setState({\n          isLoaded: false,\n          error: error,\n        });\n      });\n    hypersListApi()\n      .then((res) => {\n        _this.setState({\n          hypers: res.hypers,\n          isLoaded: true,\n        });\n        console.log(\"hypersListApi~~\", this.state.hypers);\n      })\n      .catch((error) => {\n        _this.setState({\n          isLoaded: false,\n          error: error,\n        });\n      });\n  }\n  handleOk = () => {\n    const p = this;\n    const { form } = this.props;\n    console.log(\"handleOk-form\", this.props);\n    form.validateFieldsAndScroll((err, values) => {\n      console.log(\"handleOk\", values);\n      if (err) {\n        return;\n      }\n      // this.state.fileList?values.image = this.state.fileList : []\n      p.props.submit(values);\n    });\n  };\n\n  handleCancel = () => {\n    const { close } = this.props;\n\n    close();\n  };\n\n  getOptionList(data) {\n    console.log(\"getOptionList\", data);\n    if (!data) {\n      return [];\n    }\n    const options = [];\n    data.map((item) => {\n      options.push(\n        <Option value={item.ID} key={item.ID}>\n          {item.Name}\n        </Option>\n      );\n    });\n    return options;\n  }\n  getOptionHyperList(data) {\n    console.log(\"getOptionList\", data);\n    if (!data) {\n      return [];\n    }\n    const options = [];\n    data.map((item, index) => {\n      options.push(\n        <Option value={index} key={item.ID}>\n          {item.Hostname}\n        </Option>\n      );\n    });\n    return options;\n  }\n\n  initFormList = () => {\n    const p = this;\n    const { getFieldDecorator } = p.props.form;\n    const { modalFormList } = this.props;\n    console.log(\"basic-modalFormList\", modalFormList);\n    const formItemList = [];\n    if (modalFormList && modalFormList.length > 0) {\n      modalFormList.forEach((item) => {\n        console.log(\"modalFormList-item\", item);\n        const { label } = item;\n        const { rules } = item;\n        const rulesType = rules || [\n          { required: true, message: `${label}必填` },\n        ];\n        const initialValue = item.initialValue || undefined;\n\n        const { placeholder } = item;\n        const { width } = item;\n        const { style } = item;\n        const { name } = item;\n        const { disabled } = item;\n        const formItemLayout = {\n          labelCol: {\n            xs: { span: 24 },\n            sm: { span: 6 },\n          },\n          wrapperCol: {\n            xs: { span: 24 },\n            sm: { span: 16 },\n          },\n        };\n        if (item.field === this.props.title) {\n          if (item.type === \"INPUT\") {\n            const INPUT = (\n              <Form.Item\n                label={label}\n                name={name}\n                style={style}\n                {...formItemLayout}\n              >\n                {getFieldDecorator(`${name}`, {\n                  rules: rulesType,\n                  initialValue,\n                })(\n                  <Input\n                    type=\"text\"\n                    disabled={disabled || false}\n                    style={{ width }}\n                    // placeholder={placeholder}\n                  />\n                )}\n              </Form.Item>\n            );\n            formItemList.push(INPUT);\n          } else if (item.type === \"SELECT\") {\n            if (name) {\n              switch (name) {\n                case \"flavor\": {\n                  const SELECT = (\n                    <Form.Item label={label} name={name} {...formItemLayout}>\n                      {getFieldDecorator(`${name}`, {\n                        initialValue, // true | false\n                      })(\n                        <Select style={{ width }} placeholder={placeholder}>\n                          {this.getOptionList(this.state.flavors)}\n                        </Select>\n                      )}\n                    </Form.Item>\n                  );\n                  return formItemList.push(SELECT);\n                }\n                case \"hyper\": {\n                  const SELECT = (\n                    <Form.Item label={label} name={name} {...formItemLayout}>\n                      {getFieldDecorator(`${name}`, {\n                        initialValue, // true | false\n                      })(\n                        <Select style={{ width }} placeholder={placeholder}>\n                          {this.getOptionHyperList(this.state.hypers)}\n                        </Select>\n                      )}\n                    </Form.Item>\n                  );\n                  return formItemList.push(SELECT);\n                }\n                case \"action\": {\n                  const SELECT = (\n                    <Form.Item label={label} name={name} {...formItemLayout}>\n                      {getFieldDecorator(`${name}`, {\n                        initialValue, // true | false\n                      })(\n                        <Select style={{ width }} placeholder={placeholder}>\n                          <Option value=\"stop\" key=\"stop\">\n                            stop\n                          </Option>\n                          <Option value=\"start\" key=\"start\">\n                            start\n                          </Option>\n                        </Select>\n                      )}\n                    </Form.Item>\n                  );\n                  return formItemList.push(SELECT);\n                }\n\n                default:\n                  return null;\n              }\n            }\n          }\n        }\n      });\n    }\n    return formItemList;\n  };\n\n  render() {\n    const p = this;\n    console.log(\"instModal-key\", this.props.key);\n    // const { getFieldDecorator } = this.props.form;\n    return (\n      <div>\n        <Modal\n          destroyOnClose\n          title={this.props.title}\n          visible={this.props.visible}\n          onOk={this.handleOk}\n          onCancel={this.handleCancel}\n          maskClosable={false}\n        >\n          <Form\n            onSubmit={(e) => {\n              console.log(\"modal-e\", e);\n              // this.handleModalSubmit(e);\n            }}\n            //   layout={{ ...layoutForm.LayoutType }}\n            wrapperCol={{ ...layoutForm.wrapperCol }}\n          >\n            {p.initFormList()}\n          </Form>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default Form.create({ name: \"instModal\" })(InstModal);\n"]},"metadata":{},"sourceType":"module"}