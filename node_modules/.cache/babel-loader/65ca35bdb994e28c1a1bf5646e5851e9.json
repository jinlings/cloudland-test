{"ast":null,"code":"import _classCallCheck from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/*\n\nCopyright <holder> All Rights Reserved\n\nSPDX-License-Identifier: Apache-2.0\n\n*/import React,{Component}from\"react\";import{Card,Table,Button,Popconfirm,message}from\"antd\";import{flavorsListApi,delFlavorInfor}from\"../../service/flavors\";import{createDispatchHook}from\"react-redux\";import DataTable from\"../../components/DataTable/DataTable\";import{jsx as _jsx}from\"react/jsx-runtime\";var Flavors=/*#__PURE__*/function(_Component){_inherits(Flavors,_Component);var _super=_createSuper(Flavors);function Flavors(props){var _this2;_classCallCheck(this,Flavors);_this2=_super.call(this,props);_this2.columns=[{title:\"ID\",dataIndex:\"ID\",key:\"ID\",width:80,align:\"center\"},{title:\"Name\",dataIndex:\"Name\",align:\"center\"},{title:\"CPU\",dataIndex:\"Cpu\",align:\"center\"},{title:\"Memory\",dataIndex:\"Memory\",align:\"center\"},{title:\"Disk\",dataIndex:\"Disk\",align:\"center\"},{title:\"Swap\",dataIndex:\"Swap\",align:\"center\"},{title:\"Ephemeral\",dataIndex:\"Ephemeral\",align:\"center\"},{title:\"Action\",align:\"center\",render:function render(txt,record,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Popconfirm,{title:\"Are you sure to delete?\",onCancel:function onCancel(){console.log(\"deleted\");},onConfirm:function onConfirm(){console.log(\"onClick-delete:\",record);//this.props.history.push(\"/registrys/new/\" + record.ID);\ndelFlavorInfor(record.ID).then(function(res){//const _this = this;\nmessage.success(res.Msg);_this2.loadData(_this2.state.current,_this2.state.pageSize);console.log(\"用户~~\",res);console.log(\"用户~~state\",_this2.state);});},children:/*#__PURE__*/_jsx(Button,{style:{margin:\"0 1rem\"},type:\"danger\",size:\"small\",children:\"Delete\"})})});}}];_this2.loadData=function(page,pageSize){console.log(\"flavor-loadData~~\",page,pageSize);var _this=_assertThisInitialized(_this2);var offset=(page-1)*pageSize;var limit=pageSize;flavorsListApi(offset,limit).then(function(res){console.log(\"loadData\",res);_this.setState({flavors:res.flavors,isLoaded:true,total:res.total,pageSize:limit,current:page});console.log(\"loadData-page-\",page,_this.state);}).catch(function(error){_this.setState({isLoaded:false,error:error});});};_this2.toSelectchange=function(page,num){console.log(\"toSelectchange\",page,num);var _this=_assertThisInitialized(_this2);var offset=(page-1)*num;var limit=num;console.log(\"flavor-toSelectchange~limit:\",offset,limit);flavorsListApi(offset,limit).then(function(res){console.log(\"loadData\",res);_this.setState({flavors:res.flavors,isLoaded:true,total:res.total,pageSize:limit,current:page});}).catch(function(error){_this.setState({isLoaded:false,error:error});});};_this2.onPaginationChange=function(e){console.log(\"onPaginationChange\",e);_this2.loadData(e,_this2.state.pageSize);};_this2.onShowSizeChange=function(current,pageSize){console.log(\"onShowSizeChange:\",current,pageSize);//当几条一页的值改变后调用函数，current：改变显示条数时当前数据所在页；pageSize:改变后的一页显示条数\n_this2.toSelectchange(current,pageSize);};_this2.createFlavors=function(){_this2.props.history.push(\"/flavors/new\");};_this2.flavorsFormList=function(data){console.log(\"flavors-FormList\",data);var flavorsFormList=[{type:\"INPUT\",label:\"Name\",name:\"name\",// field: \"Change Hostname\",\nplaceholder:\"please input flavor name\",width:\"90%\"// initialValue: data.Hostname,\n// id: data.ID,\n},{type:\"INPUT\",label:\"CPU\",name:\"cpu\",// field: \"Change Hostname\",\nplaceholder:\"please input flavor cpu\",width:\"90%\"// initialValue: data.Hostname,\n// id: data.ID,\n},{type:\"INPUT\",label:\"Memory(M)\",name:\"memory\",// field: \"Change Hostname\",\nplaceholder:\"please input flavor memory\",width:\"90%\"// initialValue: data.Hostname,\n// id: data.ID,\n},{type:\"INPUT\",label:\"Disk(G)\",name:\"disk\",// field: \"Change Hostname\",\nplaceholder:\"please input flavor disk\",width:\"90%\"// initialValue: data.Hostname,\n// id: data.ID,\n},{type:\"INPUT\",label:\"Swap(G)\",name:\"swap\",// field: \"Change Hostname\",\nplaceholder:\"please input flavor swap\",width:\"90%\"// initialValue: data.Hostname,\n// id: data.ID,\n},{type:\"INPUT\",label:\"Ephemeral(G)\",name:\"ephemeral\",// field: \"Change Hostname\",\nplaceholder:\"please input flavor ephemeral\",width:\"90%\"// initialValue: data.Hostname,\n// id: data.ID,\n}];return flavorsFormList;};_this2.state={flavors:[],isLoaded:false,total:0,pageSize:10,offset:0,pageSizeOptions:[\"5\",\"10\",\"15\",\"20\"],current:1};return _this2;}_createClass(Flavors,[{key:\"componentWillMount\",value:function componentWillMount(){var _this=this;flavorsListApi().then(function(res){_this.setState({flavors:res.flavors,isLoaded:true,total:res.total});console.log(\"flavors:\",res);}).catch(function(error){_this.setState({isLoaded:false,error:error});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Card,{title:\"Flavor Manage Panel \"+\"(Total: \"+this.state.total+\")\",extra:/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:this.createFlavors,children:\"Create\"}),children:/*#__PURE__*/_jsx(DataTable,{rowKey:\"ID\",columns:this.columns,dataSource:this.state.flavors,bordered:true,total:this.state.total,pageSize:this.state.pageSize,scroll:{y:600},onPaginationChange:this.onPaginationChange,onShowSizeChange:this.onShowSizeChange,pageSizeOptions:this.state.pageSizeOptions,loading:!this.state.isLoaded})});}}]);return Flavors;}(Component);export default Flavors;","map":{"version":3,"sources":["/Users/emily/cloudland/src/pages/flavors/Flavors.jsx"],"names":["React","Component","Card","Table","Button","Popconfirm","message","flavorsListApi","delFlavorInfor","createDispatchHook","DataTable","Flavors","props","columns","title","dataIndex","key","width","align","render","txt","record","index","console","log","ID","then","res","success","Msg","loadData","state","current","pageSize","margin","page","_this","offset","limit","setState","flavors","isLoaded","total","catch","error","toSelectchange","num","onPaginationChange","e","onShowSizeChange","createFlavors","history","push","flavorsFormList","data","type","label","name","placeholder","pageSizeOptions","y"],"mappings":"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","sourcesContent":["/*\n\nCopyright <holder> All Rights Reserved\n\nSPDX-License-Identifier: Apache-2.0\n\n*/\nimport React, { Component } from \"react\";\nimport { Card, Table, Button, Popconfirm, message } from \"antd\";\nimport { flavorsListApi, delFlavorInfor } from \"../../service/flavors\";\nimport { createDispatchHook } from \"react-redux\";\nimport DataTable from \"../../components/DataTable/DataTable\";\n\nclass Flavors extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      flavors: [],\n      isLoaded: false,\n      total: 0,\n      pageSize: 10,\n      offset: 0,\n      pageSizeOptions: [\"5\", \"10\", \"15\", \"20\"],\n      current: 1,\n    };\n  }\n  columns = [\n    {\n      title: \"ID\",\n      dataIndex: \"ID\",\n      key: \"ID\",\n      width: 80,\n      align: \"center\",\n    },\n    {\n      title: \"Name\",\n      dataIndex: \"Name\",\n      align: \"center\",\n    },\n    {\n      title: \"CPU\",\n      dataIndex: \"Cpu\",\n      align: \"center\",\n    },\n    {\n      title: \"Memory\",\n      dataIndex: \"Memory\",\n      align: \"center\",\n    },\n    {\n      title: \"Disk\",\n      dataIndex: \"Disk\",\n      align: \"center\",\n    },\n    {\n      title: \"Swap\",\n      dataIndex: \"Swap\",\n      align: \"center\",\n    },\n    {\n      title: \"Ephemeral\",\n      dataIndex: \"Ephemeral\",\n      align: \"center\",\n    },\n    {\n      title: \"Action\",\n      align: \"center\",\n      render: (txt, record, index) => {\n        return (\n          <div>\n            <Popconfirm\n              title=\"Are you sure to delete?\"\n              onCancel={() => {\n                console.log(\"deleted\");\n              }}\n              onConfirm={() => {\n                console.log(\"onClick-delete:\", record);\n                //this.props.history.push(\"/registrys/new/\" + record.ID);\n                delFlavorInfor(record.ID).then((res) => {\n                  //const _this = this;\n                  message.success(res.Msg);\n                  this.loadData(this.state.current, this.state.pageSize);\n\n                  console.log(\"用户~~\", res);\n                  console.log(\"用户~~state\", this.state);\n                });\n              }}\n            >\n              <Button style={{ margin: \"0 1rem\" }} type=\"danger\" size=\"small\">\n                Delete\n              </Button>\n            </Popconfirm>\n          </div>\n        );\n      },\n    },\n  ];\n  componentWillMount() {\n    const _this = this;\n    flavorsListApi()\n      .then((res) => {\n        _this.setState({\n          flavors: res.flavors,\n          isLoaded: true,\n          total: res.total,\n        });\n        console.log(\"flavors:\", res);\n      })\n      .catch((error) => {\n        _this.setState({\n          isLoaded: false,\n          error: error,\n        });\n      });\n  }\n  loadData = (page, pageSize) => {\n    console.log(\"flavor-loadData~~\", page, pageSize);\n    const _this = this;\n    const offset = (page - 1) * pageSize;\n    const limit = pageSize;\n    flavorsListApi(offset, limit)\n      .then((res) => {\n        console.log(\"loadData\", res);\n        _this.setState({\n          flavors: res.flavors,\n          isLoaded: true,\n          total: res.total,\n          pageSize: limit,\n          current: page,\n        });\n        console.log(\"loadData-page-\", page, _this.state);\n      })\n      .catch((error) => {\n        _this.setState({\n          isLoaded: false,\n          error: error,\n        });\n      });\n  };\n  toSelectchange = (page, num) => {\n    console.log(\"toSelectchange\", page, num);\n    const _this = this;\n    const offset = (page - 1) * num;\n    const limit = num;\n    console.log(\"flavor-toSelectchange~limit:\", offset, limit);\n    flavorsListApi(offset, limit)\n      .then((res) => {\n        console.log(\"loadData\", res);\n        _this.setState({\n          flavors: res.flavors,\n          isLoaded: true,\n          total: res.total,\n          pageSize: limit,\n          current: page,\n        });\n      })\n      .catch((error) => {\n        _this.setState({\n          isLoaded: false,\n          error: error,\n        });\n      });\n  };\n  onPaginationChange = (e) => {\n    console.log(\"onPaginationChange\", e);\n    this.loadData(e, this.state.pageSize);\n  };\n  onShowSizeChange = (current, pageSize) => {\n    console.log(\"onShowSizeChange:\", current, pageSize);\n    //当几条一页的值改变后调用函数，current：改变显示条数时当前数据所在页；pageSize:改变后的一页显示条数\n    this.toSelectchange(current, pageSize);\n  };\n  createFlavors = () => {\n    this.props.history.push(\"/flavors/new\");\n  };\n  flavorsFormList = (data) => {\n    console.log(\"flavors-FormList\", data);\n    const flavorsFormList = [\n      {\n        type: \"INPUT\",\n        label: \"Name\",\n        name: \"name\",\n        // field: \"Change Hostname\",\n        placeholder: \"please input flavor name\",\n        width: \"90%\",\n        // initialValue: data.Hostname,\n        // id: data.ID,\n      },\n      {\n        type: \"INPUT\",\n        label: \"CPU\",\n        name: \"cpu\",\n        // field: \"Change Hostname\",\n        placeholder: \"please input flavor cpu\",\n        width: \"90%\",\n        // initialValue: data.Hostname,\n        // id: data.ID,\n      },\n      {\n        type: \"INPUT\",\n        label: \"Memory(M)\",\n        name: \"memory\",\n        // field: \"Change Hostname\",\n        placeholder: \"please input flavor memory\",\n        width: \"90%\",\n        // initialValue: data.Hostname,\n        // id: data.ID,\n      },\n      {\n        type: \"INPUT\",\n        label: \"Disk(G)\",\n        name: \"disk\",\n        // field: \"Change Hostname\",\n        placeholder: \"please input flavor disk\",\n        width: \"90%\",\n        // initialValue: data.Hostname,\n        // id: data.ID,\n      },\n      {\n        type: \"INPUT\",\n        label: \"Swap(G)\",\n        name: \"swap\",\n        // field: \"Change Hostname\",\n        placeholder: \"please input flavor swap\",\n        width: \"90%\",\n        // initialValue: data.Hostname,\n        // id: data.ID,\n      },\n      {\n        type: \"INPUT\",\n        label: \"Ephemeral(G)\",\n        name: \"ephemeral\",\n        // field: \"Change Hostname\",\n        placeholder: \"please input flavor ephemeral\",\n        width: \"90%\",\n        // initialValue: data.Hostname,\n        // id: data.ID,\n      },\n    ];\n    return flavorsFormList;\n  };\n  render() {\n    return (\n      <Card\n        title={\"Flavor Manage Panel \" + \"(Total: \" + this.state.total + \")\"}\n        extra={\n          <Button type=\"primary\" onClick={this.createFlavors}>\n            Create\n          </Button>\n        }\n      >\n        <DataTable\n          rowKey=\"ID\"\n          columns={this.columns}\n          dataSource={this.state.flavors}\n          bordered\n          total={this.state.total}\n          pageSize={this.state.pageSize}\n          scroll={{ y: 600 }}\n          onPaginationChange={this.onPaginationChange}\n          onShowSizeChange={this.onShowSizeChange}\n          pageSizeOptions={this.state.pageSizeOptions}\n          loading={!this.state.isLoaded}\n        />\n      </Card>\n    );\n  }\n}\nexport default Flavors;\n"]},"metadata":{},"sourceType":"module"}