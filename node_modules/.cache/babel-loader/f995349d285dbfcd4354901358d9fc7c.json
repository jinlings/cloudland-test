{"ast":null,"code":"import _classCallCheck from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/*\n\nCopyright <holder> All Rights Reserved\n\nSPDX-License-Identifier: Apache-2.0\n\n*/import React,{Component}from\"react\";import{Card,Button,Popconfirm,message}from\"antd\";import{regListApi,delRegInfor}from\"../../service/registrys\";import DataTable from\"../../components/DataTable/DataTable\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Registrys=/*#__PURE__*/function(_Component){_inherits(Registrys,_Component);var _super=_createSuper(Registrys);function Registrys(props){var _this2;_classCallCheck(this,Registrys);_this2=_super.call(this,props);_this2.columns=[{title:\"ID\",dataIndex:\"ID\",align:\"center\",key:\"ID\",className:\"registry_id\",width:80},{title:\"Label\",dataIndex:\"Label\",align:\"center\",className:\"registry_label\"// width: 100,\n},{title:\"Ocp Version\",dataIndex:\"OcpVersion\",align:\"center\",className:\"registry_ocpVersion\",width:80},{title:\"Registry Content\",dataIndex:\"RegistryContent\",align:\"center\",className:\"registry_Content\",// width: 300,\nrender:function render(text){if(text.length>100){return/*#__PURE__*/_jsx(\"div\",{className:\"registryContent\",style:{overflow:\"hidden\",textOverflow:\"ellipsis\",display:\"-webkit-box\",WebkitBoxOrient:\"vertical\",WebkitLineClamp:\"3\",maxWidth:350},children:text});}}},{title:\"Action\",align:\"center\",render:function render(txt,record,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{style:{marginTop:\"10px\"},type:\"primary\",size:\"small\"//onClick={() => console.log(\"onClick:\", record)}\n,onClick:function onClick(){console.log(\"onClick:\",record);_this2.props.history.push(\"/registrys/new/\"+record.ID);},children:\"Edit\"}),/*#__PURE__*/_jsx(Popconfirm,{title:\"Are you sure to delete?\",onCancel:function onCancel(){console.log(\"cancelled\");},onConfirm:function onConfirm(){console.log(\"onClick-delete:\",record);//this.props.history.push(\"/registrys/new/\" + record.ID);\ndelRegInfor(record.ID).then(function(res){//const _this = this;\nmessage.success(res.Msg);_this2.loadData(_this2.state.current,_this2.state.pageSize);console.log(\"用户~~\",res);});},children:/*#__PURE__*/_jsx(Button,{style:{margin:\"5px\",marginRight:\"0px\",marginTop:\"10px\"},type:\"danger\",size:\"small\",onClick:function onClick(){console.log(\"record\",record);console.log(\"text\",txt);console.log(\"index\",index);},children:\"Delete\"})})]});}}];_this2.createRegistrys=function(){_this2.props.history.push(\"/registrys/new\");};_this2.loadData=function(page,pageSize){console.log(\"loadData~~\",page,pageSize);var _this=_assertThisInitialized(_this2);var offset=(page-1)*pageSize;var limit=pageSize;regListApi(offset,limit).then(function(res){console.log(\"loadData\",res);_this.setState({registrys:res.registrys,isLoaded:true,total:res.total,pageSize:limit,current:page});console.log(\"loadData-page-\",page,_this.state);}).catch(function(error){_this.setState({isLoaded:false,error:error});});};_this2.toSelectchange=function(page,num){console.log(\"toSelectchange\",page,num);var _this=_assertThisInitialized(_this2);var offset=(page-1)*num;var limit=num;console.log(\"toSelectchange~limit:\",offset,limit);regListApi(offset,limit).then(function(res){console.log(\"loadData\",res);_this.setState({registrys:res.registrys,isLoaded:true,total:res.total,pageSize:limit});}).catch(function(error){_this.setState({isLoaded:false,error:error});});};_this2.onPaginationChange=function(e){console.log(\"onPaginationChange\",e);_this2.loadData(e,_this2.state.pageSize);};_this2.onShowSizeChange=function(current,pageSize){console.log(\"onShowSizeChange:\",current,pageSize);//当几条一页的值改变后调用函数，current：改变显示条数时当前数据所在页；pageSize:改变后的一页显示条数\n_this2.toSelectchange(current,pageSize);};console.log(\"props~~:\",props);_this2.state={registrys:[],isLoaded:false,total:0,pageSize:10,offset:0,pageSizeOptions:[\"5\",\"10\",\"15\",\"20\"],current:1};return _this2;}_createClass(Registrys,[{key:\"componentWillMount\",value:function componentWillMount(){var _this=this;var limit=this.state.pageSize;regListApi(this.state.offset,limit).then(function(res){console.log(\"regListApi-total:\",res.total);_this.setState({registrys:res.registrys,isLoaded:true,total:res.total});}).catch(function(error){_this.setState({isLoaded:false,error:error});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Card,{title:\"Registry Manage Panel\"+\"(Total: \"+this.state.total+\")\",extra:/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:this.createRegistrys,children:\"Create\"}),children:/*#__PURE__*/_jsx(DataTable,{rowKey:\"ID\",columns:this.columns,dataSource:this.state.registrys,bordered:true,total:this.state.total,pageSize:this.state.pageSize,scroll:{y:600},onPaginationChange:this.onPaginationChange,onShowSizeChange:this.onShowSizeChange,pageSizeOptions:this.state.pageSizeOptions,loading:!this.state.isLoaded})});}}]);return Registrys;}(Component);export default Registrys;","map":{"version":3,"sources":["/Users/emily/cloudland/src/pages/registrys/Registrys.jsx"],"names":["React","Component","Card","Button","Popconfirm","message","regListApi","delRegInfor","DataTable","Registrys","props","columns","title","dataIndex","align","key","className","width","render","text","length","overflow","textOverflow","display","WebkitBoxOrient","WebkitLineClamp","maxWidth","txt","record","index","marginTop","console","log","history","push","ID","then","res","success","Msg","loadData","state","current","pageSize","margin","marginRight","createRegistrys","page","_this","offset","limit","setState","registrys","isLoaded","total","catch","error","toSelectchange","num","onPaginationChange","e","onShowSizeChange","pageSizeOptions","y"],"mappings":"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","sourcesContent":["/*\n\nCopyright <holder> All Rights Reserved\n\nSPDX-License-Identifier: Apache-2.0\n\n*/\nimport React, { Component } from \"react\";\nimport { Card, Button, Popconfirm, message } from \"antd\";\nimport { regListApi, delRegInfor } from \"../../service/registrys\";\nimport DataTable from \"../../components/DataTable/DataTable\";\n\nclass Registrys extends Component {\n  constructor(props) {\n    super(props);\n    console.log(\"props~~:\", props);\n\n    this.state = {\n      registrys: [],\n      isLoaded: false,\n      total: 0,\n      pageSize: 10,\n      offset: 0,\n      pageSizeOptions: [\"5\", \"10\", \"15\", \"20\"],\n      current: 1,\n    };\n  }\n  columns = [\n    {\n      title: \"ID\",\n      dataIndex: \"ID\",\n      align: \"center\",\n      key: \"ID\",\n      className: \"registry_id\",\n      width: 80,\n    },\n    {\n      title: \"Label\",\n      dataIndex: \"Label\",\n      align: \"center\",\n      className: \"registry_label\",\n      // width: 100,\n    },\n    {\n      title: \"Ocp Version\",\n      dataIndex: \"OcpVersion\",\n      align: \"center\",\n      className: \"registry_ocpVersion\",\n      width: 80,\n    },\n    {\n      title: \"Registry Content\",\n      dataIndex: \"RegistryContent\",\n      align: \"center\",\n      className: \"registry_Content\",\n      // width: 300,\n      render: (text) => {\n        if (text.length > 100) {\n          return (\n            <div\n              className=\"registryContent\"\n              style={{\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\",\n                display: \"-webkit-box\",\n                WebkitBoxOrient: \"vertical\",\n                WebkitLineClamp: \"3\",\n                maxWidth: 350,\n              }}\n            >\n              {text}\n            </div>\n          );\n        }\n      },\n    },\n    {\n      title: \"Action\",\n      align: \"center\",\n      render: (txt, record, index) => {\n        return (\n          <div>\n            <Button\n              style={{\n                marginTop: \"10px\",\n              }}\n              type=\"primary\"\n              size=\"small\"\n              //onClick={() => console.log(\"onClick:\", record)}\n              onClick={() => {\n                console.log(\"onClick:\", record);\n                this.props.history.push(\"/registrys/new/\" + record.ID);\n              }}\n            >\n              Edit\n            </Button>\n            <Popconfirm\n              title=\"Are you sure to delete?\"\n              onCancel={() => {\n                console.log(\"cancelled\");\n              }}\n              onConfirm={() => {\n                console.log(\"onClick-delete:\", record);\n                //this.props.history.push(\"/registrys/new/\" + record.ID);\n                delRegInfor(record.ID).then((res) => {\n                  //const _this = this;\n                  message.success(res.Msg);\n                  this.loadData(this.state.current, this.state.pageSize);\n\n                  console.log(\"用户~~\", res);\n                });\n              }}\n            >\n              <Button\n                style={{\n                  margin: \"5px\",\n                  marginRight: \"0px\",\n                  marginTop: \"10px\",\n                }}\n                type=\"danger\"\n                size=\"small\"\n                onClick={() => {\n                  console.log(\"record\", record);\n                  console.log(\"text\", txt);\n                  console.log(\"index\", index);\n                }}\n              >\n                Delete\n              </Button>\n            </Popconfirm>\n          </div>\n        );\n      },\n    },\n  ];\n  componentWillMount() {\n    const _this = this;\n    const limit = this.state.pageSize;\n    regListApi(this.state.offset, limit)\n      .then((res) => {\n        console.log(\"regListApi-total:\", res.total);\n        _this.setState({\n          registrys: res.registrys,\n          isLoaded: true,\n          total: res.total,\n        });\n      })\n      .catch((error) => {\n        _this.setState({\n          isLoaded: false,\n          error: error,\n        });\n      });\n  }\n\n  createRegistrys = () => {\n    this.props.history.push(\"/registrys/new\");\n  };\n  loadData = (page, pageSize) => {\n    console.log(\"loadData~~\", page, pageSize);\n    const _this = this;\n    const offset = (page - 1) * pageSize;\n    const limit = pageSize;\n    regListApi(offset, limit)\n      .then((res) => {\n        console.log(\"loadData\", res);\n\n        _this.setState({\n          registrys: res.registrys,\n          isLoaded: true,\n          total: res.total,\n          pageSize: limit,\n          current: page,\n        });\n        console.log(\"loadData-page-\", page, _this.state);\n      })\n      .catch((error) => {\n        _this.setState({\n          isLoaded: false,\n          error: error,\n        });\n      });\n  };\n\n  toSelectchange = (page, num) => {\n    console.log(\"toSelectchange\", page, num);\n    const _this = this;\n    const offset = (page - 1) * num;\n    const limit = num;\n    console.log(\"toSelectchange~limit:\", offset, limit);\n    regListApi(offset, limit)\n      .then((res) => {\n        console.log(\"loadData\", res);\n        _this.setState({\n          registrys: res.registrys,\n          isLoaded: true,\n          total: res.total,\n          pageSize: limit,\n        });\n      })\n      .catch((error) => {\n        _this.setState({\n          isLoaded: false,\n          error: error,\n        });\n      });\n  };\n  onPaginationChange = (e) => {\n    console.log(\"onPaginationChange\", e);\n    this.loadData(e, this.state.pageSize);\n  };\n  onShowSizeChange = (current, pageSize) => {\n    console.log(\"onShowSizeChange:\", current, pageSize);\n    //当几条一页的值改变后调用函数，current：改变显示条数时当前数据所在页；pageSize:改变后的一页显示条数\n    this.toSelectchange(current, pageSize);\n  };\n\n  render() {\n    return (\n      <Card\n        title={\"Registry Manage Panel\" + \"(Total: \" + this.state.total + \")\"}\n        extra={\n          <Button type=\"primary\" onClick={this.createRegistrys}>\n            Create\n          </Button>\n        }\n      >\n        <DataTable\n          rowKey=\"ID\"\n          columns={this.columns}\n          dataSource={this.state.registrys}\n          bordered\n          total={this.state.total}\n          pageSize={this.state.pageSize}\n          scroll={{ y: 600 }}\n          onPaginationChange={this.onPaginationChange}\n          onShowSizeChange={this.onShowSizeChange}\n          pageSizeOptions={this.state.pageSizeOptions}\n          loading={!this.state.isLoaded}\n        />\n      </Card>\n    );\n  }\n}\nexport default Registrys;\n"]},"metadata":{},"sourceType":"module"}