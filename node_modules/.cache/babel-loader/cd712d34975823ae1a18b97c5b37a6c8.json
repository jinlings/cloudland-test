{"ast":null,"code":"import _classCallCheck from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/*\n\nCopyright <holder> All Rights Reserved\n\nSPDX-License-Identifier: Apache-2.0\n\n*/import React,{Component}from\"react\";import{Card,Form,Icon,Input,Button,Checkbox,message}from\"antd\";import logoLoginImg from\"../../assets/img/cland.png\";import\"./Login.css\";import{setToken}from\"../../utils/auth\";import{loginApi}from\"../../service/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleSubmit=function(e){e.preventDefault();_this.props.form.validateFields(function(err,values){if(!err){console.log(\"Received values of form: \",values);// setToken(values.username);\n// this.props.history.push(\"/\");\nloginApi({username:values.username,password:values.password}).then(function(res){if(res.token){console.log(\"res:\",res);setToken(res.token);message.info(\"Login Successfully\");_this.props.history.push(\"/\");}else{//message.info(res.ErrorMsg);\nmessage.error(\"Failure to Login\");}console.log(res);}).catch(function(err){console.log(err);});}});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var getFieldDecorator=this.props.form.getFieldDecorator;return/*#__PURE__*/_jsx(Card,{className:\"login-form\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-logo\",children:[/*#__PURE__*/_jsx(\"img\",{src:logoLoginImg,alt:\"logo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"login-logo-text\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"CloudLand System\"})})]}),/*#__PURE__*/_jsx(Form.Item,{children:getFieldDecorator(\"username\",{rules:[{required:true,message:\"Please input your username!\"}]})(/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(Icon,{type:\"user\",style:{color:\"rgba(0,0,0,.25)\"}}),placeholder:\"Username\"}))}),/*#__PURE__*/_jsx(Form.Item,{children:getFieldDecorator(\"password\",{rules:[{required:true,message:\"Please input your Password!\"}]})(/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(Icon,{type:\"lock\",style:{color:\"rgba(0,0,0,.25)\"}}),type:\"password\",placeholder:\"Password\"}))}),/*#__PURE__*/_jsxs(Form.Item,{children:[getFieldDecorator(\"remember\",{valuePropName:\"checked\",initialValue:true})(/*#__PURE__*/_jsx(Checkbox,{children:\"Remember me\"})),/*#__PURE__*/_jsx(\"a\",{className:\"login-form-forgot\",href:\"\",children:\"Forgot password\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",className:\"login-form-button\",children:\"Log in\"}),\"Or \",/*#__PURE__*/_jsx(\"a\",{href:\"\",children:\"register now!\"})]})]})});}}]);return Login;}(Component);export default Form.create({name:\"loginFrom\"})(Login);","map":{"version":3,"sources":["/Users/emily/cloudland/src/pages/login/Login.jsx"],"names":["React","Component","Card","Form","Icon","Input","Button","Checkbox","message","logoLoginImg","setToken","loginApi","Login","handleSubmit","e","preventDefault","props","form","validateFields","err","values","console","log","username","password","then","res","token","info","history","push","error","catch","getFieldDecorator","rules","required","color","valuePropName","initialValue","create","name"],"mappings":"oiBAAA;AACA;AACA;AACA;AACA;AACA;AACA,EACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,IAAf,CAAqBC,IAArB,CAA2BC,KAA3B,CAAkCC,MAAlC,CAA0CC,QAA1C,CAAoDC,OAApD,KAAmE,MAAnE,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAO,aAAP,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,QAAT,KAAyB,oBAAzB,C,2FACMC,CAAAA,K,uTACJC,Y,CAAe,SAACC,CAAD,CAAO,CACpBA,CAAC,CAACC,cAAF,GACA,MAAKC,KAAL,CAAWC,IAAX,CAAgBC,cAAhB,CAA+B,SAACC,GAAD,CAAMC,MAAN,CAAiB,CAC9C,GAAI,CAACD,GAAL,CAAU,CACRE,OAAO,CAACC,GAAR,CAAY,2BAAZ,CAAyCF,MAAzC,EACA;AACA;AACAT,QAAQ,CAAC,CACPY,QAAQ,CAAEH,MAAM,CAACG,QADV,CAEPC,QAAQ,CAAEJ,MAAM,CAACI,QAFV,CAAD,CAAR,CAIGC,IAJH,CAIQ,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACC,KAAR,CAAe,CACbN,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBI,GAApB,EACAhB,QAAQ,CAACgB,GAAG,CAACC,KAAL,CAAR,CACAnB,OAAO,CAACoB,IAAR,CAAa,oBAAb,EACA,MAAKZ,KAAL,CAAWa,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACD,CALD,IAKO,CACL;AACAtB,OAAO,CAACuB,KAAR,CAAc,kBAAd,EACD,CACDV,OAAO,CAACC,GAAR,CAAYI,GAAZ,EACD,CAfH,EAiBGM,KAjBH,CAiBS,SAACb,GAAD,CAAS,CACdE,OAAO,CAACC,GAAR,CAAYH,GAAZ,EACD,CAnBH,EAoBD,CACF,CA1BD,EA2BD,C,uDACD,iBAAS,CACP,GAAQc,CAAAA,iBAAR,CAA8B,KAAKjB,KAAL,CAAWC,IAAzC,CAAQgB,iBAAR,CACA,mBACE,KAAC,IAAD,EAAM,SAAS,CAAC,YAAhB,uBACE,MAAC,IAAD,EAAM,QAAQ,CAAE,KAAKpB,YAArB,wBACE,aAAK,SAAS,CAAC,YAAf,wBACE,YAAK,GAAG,CAAEJ,YAAV,CAAwB,GAAG,CAAC,MAA5B,EADF,cAEE,YAAK,SAAS,CAAC,iBAAf,uBACE,wCADF,EAFF,GADF,cAOE,KAAC,IAAD,CAAM,IAAN,WACGwB,iBAAiB,CAAC,UAAD,CAAa,CAC7BC,KAAK,CAAE,CACL,CAAEC,QAAQ,CAAE,IAAZ,CAAkB3B,OAAO,CAAE,6BAA3B,CADK,CADsB,CAAb,CAAjB,cAKC,KAAC,KAAD,EACE,MAAM,cACJ,KAAC,IAAD,EAAM,IAAI,CAAC,MAAX,CAAkB,KAAK,CAAE,CAAE4B,KAAK,CAAE,iBAAT,CAAzB,EAFJ,CAIE,WAAW,CAAC,UAJd,EALD,CADH,EAPF,cAqBE,KAAC,IAAD,CAAM,IAAN,WACGH,iBAAiB,CAAC,UAAD,CAAa,CAC7BC,KAAK,CAAE,CACL,CAAEC,QAAQ,CAAE,IAAZ,CAAkB3B,OAAO,CAAE,6BAA3B,CADK,CADsB,CAAb,CAAjB,cAKC,KAAC,KAAD,EACE,MAAM,cACJ,KAAC,IAAD,EAAM,IAAI,CAAC,MAAX,CAAkB,KAAK,CAAE,CAAE4B,KAAK,CAAE,iBAAT,CAAzB,EAFJ,CAIE,IAAI,CAAC,UAJP,CAKE,WAAW,CAAC,UALd,EALD,CADH,EArBF,cAoCE,MAAC,IAAD,CAAM,IAAN,YACGH,iBAAiB,CAAC,UAAD,CAAa,CAC7BI,aAAa,CAAE,SADc,CAE7BC,YAAY,CAAE,IAFe,CAAb,CAAjB,cAGE,KAAC,QAAD,0BAHF,CADH,cAKE,UAAG,SAAS,CAAC,mBAAb,CAAiC,IAAI,CAAC,EAAtC,6BALF,cAQE,KAAC,MAAD,EACE,IAAI,CAAC,SADP,CAEE,QAAQ,CAAC,QAFX,CAGE,SAAS,CAAC,mBAHZ,oBARF,oBAeK,UAAG,IAAI,CAAC,EAAR,2BAfL,GApCF,GADF,EADF,CA0DD,C,mBA3FiBrC,S,EA6FpB,cAAeE,CAAAA,IAAI,CAACoC,MAAL,CAAY,CAAEC,IAAI,CAAE,WAAR,CAAZ,EAAmC5B,KAAnC,CAAf","sourcesContent":["/*\n\nCopyright <holder> All Rights Reserved\n\nSPDX-License-Identifier: Apache-2.0\n\n*/\nimport React, { Component } from \"react\";\nimport { Card, Form, Icon, Input, Button, Checkbox, message } from \"antd\";\nimport logoLoginImg from \"../../assets/img/cland.png\";\nimport \"./Login.css\";\nimport { setToken } from \"../../utils/auth\";\nimport { loginApi } from \"../../service/auth\";\nclass Login extends Component {\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        console.log(\"Received values of form: \", values);\n        // setToken(values.username);\n        // this.props.history.push(\"/\");\n        loginApi({\n          username: values.username,\n          password: values.password,\n        })\n          .then((res) => {\n            if (res.token) {\n              console.log(\"res:\", res);\n              setToken(res.token);\n              message.info(\"Login Successfully\");\n              this.props.history.push(\"/\");\n            } else {\n              //message.info(res.ErrorMsg);\n              message.error(\"Failure to Login\");\n            }\n            console.log(res);\n          })\n\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n    });\n  };\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <Card className=\"login-form\">\n        <Form onSubmit={this.handleSubmit}>\n          <div className=\"login-logo\">\n            <img src={logoLoginImg} alt=\"logo\" />\n            <div className=\"login-logo-text\">\n              <h2>CloudLand System</h2>\n            </div>\n          </div>\n          <Form.Item>\n            {getFieldDecorator(\"username\", {\n              rules: [\n                { required: true, message: \"Please input your username!\" },\n              ],\n            })(\n              <Input\n                prefix={\n                  <Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                }\n                placeholder=\"Username\"\n              />\n            )}\n          </Form.Item>\n          <Form.Item>\n            {getFieldDecorator(\"password\", {\n              rules: [\n                { required: true, message: \"Please input your Password!\" },\n              ],\n            })(\n              <Input\n                prefix={\n                  <Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                }\n                type=\"password\"\n                placeholder=\"Password\"\n              />\n            )}\n          </Form.Item>\n          <Form.Item>\n            {getFieldDecorator(\"remember\", {\n              valuePropName: \"checked\",\n              initialValue: true,\n            })(<Checkbox>Remember me</Checkbox>)}\n            <a className=\"login-form-forgot\" href=\"\">\n              Forgot password\n            </a>\n            <Button\n              type=\"primary\"\n              htmlType=\"submit\"\n              className=\"login-form-button\"\n            >\n              Log in\n            </Button>\n            Or <a href=\"\">register now!</a>\n          </Form.Item>\n        </Form>\n      </Card>\n    );\n  }\n}\nexport default Form.create({ name: \"loginFrom\" })(Login);\n"]},"metadata":{},"sourceType":"module"}