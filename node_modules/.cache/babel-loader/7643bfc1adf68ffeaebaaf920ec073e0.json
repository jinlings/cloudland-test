{"ast":null,"code":"import _classCallCheck from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/emily/cloudland/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/*\n\nCopyright <holder> All Rights Reserved\n\nSPDX-License-Identifier: Apache-2.0\n\n*/import React,{Component}from\"react\";import{Card,Table,Button,Popconfirm}from\"antd\";import{keysListApi}from\"../../service/keys\";import{jsx as _jsx}from\"react/jsx-runtime\";var columns=[{title:\"ID\",key:\"ID\",width:80,align:\"center\",dataIndex:\"ID\"//render: (txt, record, index) => index + 1,\n},{title:\"Name\",dataIndex:\"Name\"},{title:\"Owner\",dataIndex:\"OwnerInfo.name\"},{title:\"Created At\",dataIndex:\"CreatedAt\"},{title:\"Action\",render:function render(txt,record,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Popconfirm,{title:\"Are you sure to delete?\",onCancel:function onCancel(){console.log(\"cancelled\");},onConfirm:function onConfirm(){console.log(\"confirmed\");//此处调用api接口进行相关操作\n},children:/*#__PURE__*/_jsx(Button,{style:{margin:\"0 1rem\"},type:\"danger\",size:\"small\",children:\"Delete\"})})});}}];var Keys=/*#__PURE__*/function(_Component){_inherits(Keys,_Component);var _super=_createSuper(Keys);function Keys(props){var _this2;_classCallCheck(this,Keys);_this2=_super.call(this,props);_this2.demo=function(){console.log(\"11\");};_this2.state={keys:[],isLoaded:false,total:0};return _this2;}_createClass(Keys,[{key:\"componentWillMount\",value:function componentWillMount(){var _this=this;keysListApi().then(function(res){console.log(\"componentDidMount-keys:\",res);_this.setState({keys:res.keys,isLoaded:true,total:res.total});}).catch(function(error){_this.setState({isLoaded:false,error:error});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Card,{title:\"Key Manage Panel\"+\"(Total: \"+this.state.total+\")\",extra:/*#__PURE__*/_jsx(Button,{type:\"primary\",size:\"small\",onClick:this.demo,children:\"Create\"}),children:/*#__PURE__*/_jsx(Table,{rowKey:\"ID\",columns:columns,bordered:true,dataSource:this.state.keys})});}}]);return Keys;}(Component);export default Keys;","map":{"version":3,"sources":["/Users/emily/cloudland/src/pages/keys/Keys.jsx"],"names":["React","Component","Card","Table","Button","Popconfirm","keysListApi","columns","title","key","width","align","dataIndex","render","txt","record","index","console","log","margin","Keys","props","demo","state","keys","isLoaded","total","_this","then","res","setState","catch","error"],"mappings":"oiBAAA;AACA;AACA;AACA;AACA;AACA;AACA,EACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,KAAf,CAAsBC,MAAtB,CAA8BC,UAA9B,KAAgD,MAAhD,CACA,OAASC,WAAT,KAA4B,oBAA5B,C,2CACA,GAAMC,CAAAA,OAAO,CAAG,CACd,CACEC,KAAK,CAAE,IADT,CAEEC,GAAG,CAAE,IAFP,CAGEC,KAAK,CAAE,EAHT,CAIEC,KAAK,CAAE,QAJT,CAKEC,SAAS,CAAE,IACX;AANF,CADc,CASd,CACEJ,KAAK,CAAE,MADT,CAEEI,SAAS,CAAE,MAFb,CATc,CAad,CACEJ,KAAK,CAAE,OADT,CAEEI,SAAS,CAAE,gBAFb,CAbc,CAiBd,CACEJ,KAAK,CAAE,YADT,CAEEI,SAAS,CAAE,WAFb,CAjBc,CAqBd,CACEJ,KAAK,CAAE,QADT,CAEEK,MAAM,CAAE,gBAACC,GAAD,CAAMC,MAAN,CAAcC,KAAd,CAAwB,CAC9B,mBACE,kCACE,KAAC,UAAD,EACE,KAAK,CAAC,yBADR,CAEE,QAAQ,CAAE,mBAAM,CACdC,OAAO,CAACC,GAAR,CAAY,WAAZ,EACD,CAJH,CAKE,SAAS,CAAE,oBAAM,CACfD,OAAO,CAACC,GAAR,CAAY,WAAZ,EACA;AACD,CARH,uBAUE,KAAC,MAAD,EAAQ,KAAK,CAAE,CAAEC,MAAM,CAAE,QAAV,CAAf,CAAqC,IAAI,CAAC,QAA1C,CAAmD,IAAI,CAAC,OAAxD,oBAVF,EADF,EADF,CAkBD,CArBH,CArBc,CAAhB,C,GA6CMC,CAAAA,I,4FACJ,cAAYC,KAAZ,CAAmB,uCACjB,wBAAMA,KAAN,EADiB,OA0BnBC,IA1BmB,CA0BZ,UAAM,CACXL,OAAO,CAACC,GAAR,CAAY,IAAZ,EACD,CA5BkB,CAEjB,OAAKK,KAAL,CAAa,CACXC,IAAI,CAAE,EADK,CAEXC,QAAQ,CAAE,KAFC,CAGXC,KAAK,CAAE,CAHI,CAAb,CAFiB,cAOlB,C,mDACD,6BAAqB,CACnB,GAAMC,CAAAA,KAAK,CAAG,IAAd,CACArB,WAAW,GACRsB,IADH,CACQ,SAACC,GAAD,CAAS,CACbZ,OAAO,CAACC,GAAR,CAAY,yBAAZ,CAAuCW,GAAvC,EACAF,KAAK,CAACG,QAAN,CAAe,CACbN,IAAI,CAAEK,GAAG,CAACL,IADG,CAEbC,QAAQ,CAAE,IAFG,CAGbC,KAAK,CAAEG,GAAG,CAACH,KAHE,CAAf,EAKD,CARH,EASGK,KATH,CASS,SAACC,KAAD,CAAW,CAChBL,KAAK,CAACG,QAAN,CAAe,CACbL,QAAQ,CAAE,KADG,CAEbO,KAAK,CAAEA,KAFM,CAAf,EAID,CAdH,EAeD,C,sBAID,iBAAS,CACP,mBACE,KAAC,IAAD,EACE,KAAK,CAAE,mBAAqB,UAArB,CAAkC,KAAKT,KAAL,CAAWG,KAA7C,CAAqD,GAD9D,CAEE,KAAK,cACH,KAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,IAAI,CAAC,OAA5B,CAAoC,OAAO,CAAE,KAAKJ,IAAlD,oBAHJ,uBAQE,KAAC,KAAD,EACE,MAAM,CAAC,IADT,CAEE,OAAO,CAAEf,OAFX,CAGE,QAAQ,KAHV,CAIE,UAAU,CAAE,KAAKgB,KAAL,CAAWC,IAJzB,EARF,EADF,CAiBD,C,kBAhDgBvB,S,EAkDnB,cAAemB,CAAAA,IAAf","sourcesContent":["/*\n\nCopyright <holder> All Rights Reserved\n\nSPDX-License-Identifier: Apache-2.0\n\n*/\nimport React, { Component } from \"react\";\nimport { Card, Table, Button, Popconfirm } from \"antd\";\nimport { keysListApi } from \"../../service/keys\";\nconst columns = [\n  {\n    title: \"ID\",\n    key: \"ID\",\n    width: 80,\n    align: \"center\",\n    dataIndex: \"ID\",\n    //render: (txt, record, index) => index + 1,\n  },\n  {\n    title: \"Name\",\n    dataIndex: \"Name\",\n  },\n  {\n    title: \"Owner\",\n    dataIndex: \"OwnerInfo.name\",\n  },\n  {\n    title: \"Created At\",\n    dataIndex: \"CreatedAt\",\n  },\n  {\n    title: \"Action\",\n    render: (txt, record, index) => {\n      return (\n        <div>\n          <Popconfirm\n            title=\"Are you sure to delete?\"\n            onCancel={() => {\n              console.log(\"cancelled\");\n            }}\n            onConfirm={() => {\n              console.log(\"confirmed\");\n              //此处调用api接口进行相关操作\n            }}\n          >\n            <Button style={{ margin: \"0 1rem\" }} type=\"danger\" size=\"small\">\n              Delete\n            </Button>\n          </Popconfirm>\n        </div>\n      );\n    },\n  },\n];\nclass Keys extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      keys: [],\n      isLoaded: false,\n      total: 0,\n    };\n  }\n  componentWillMount() {\n    const _this = this;\n    keysListApi()\n      .then((res) => {\n        console.log(\"componentDidMount-keys:\", res);\n        _this.setState({\n          keys: res.keys,\n          isLoaded: true,\n          total: res.total,\n        });\n      })\n      .catch((error) => {\n        _this.setState({\n          isLoaded: false,\n          error: error,\n        });\n      });\n  }\n  demo = () => {\n    console.log(\"11\");\n  };\n  render() {\n    return (\n      <Card\n        title={\"Key Manage Panel\" + \"(Total: \" + this.state.total + \")\"}\n        extra={\n          <Button type=\"primary\" size=\"small\" onClick={this.demo}>\n            Create\n          </Button>\n        }\n      >\n        <Table\n          rowKey=\"ID\"\n          columns={columns}\n          bordered\n          dataSource={this.state.keys}\n        ></Table>\n      </Card>\n    );\n  }\n}\nexport default Keys;\n"]},"metadata":{},"sourceType":"module"}