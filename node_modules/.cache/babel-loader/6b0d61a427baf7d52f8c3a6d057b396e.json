{"ast":null,"code":"var _jsxFileName = \"/Users/emily/cloudland/src/pages/images/CreateImages.jsx\";\n\n/*\n\nCopyright <holder> All Rights Reserved\n\nSPDX-License-Identifier: Apache-2.0\n\n*/\nimport React, { Component } from \"react\";\nimport { Form, Card, Input, Select, Button, message } from \"antd\";\nimport { instListApi } from \"../../service/instances\";\nimport { createImgApi } from \"../../service/images\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst layoutButton = {\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\nconst layoutForm = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 10\n  }\n};\n\nclass CreateImages extends Component {\n  constructor(props) {\n    super(props); //const { getFieldDecorator } = this.props.form;\n\n    this.listImages = () => {\n      this.props.history.push(\"/images\");\n    };\n\n    this.handleSubmit = e => {\n      console.log(\"handleSubmit:\", e);\n      e.preventDefault();\n      this.props.form.validateFieldsAndScroll((err, values) => {\n        if (!err) {\n          console.log(\"handleSubmit-value:\", values);\n          console.log(\"提交\");\n          createImgApi(values).then(res => {\n            console.log(\"handleSubmit-res-createImgApi:\", res);\n            this.props.history.push(\"/images\");\n          }).catch(err => {\n            console.log(\"handleSubmit-error:\", err);\n          });\n        } else {\n          message.error(\" input wrong information\");\n        }\n      });\n    };\n\n    console.log(\"ModifyImages~~\", props);\n    this.state = {\n      instances: []\n    };\n  }\n\n  componentDidMount() {\n    instListApi().then(res => {\n      const _this = this;\n\n      console.log(\"componentDidMount-instances:\", res);\n\n      _this.setState({\n        instances: res.instances,\n        isLoaded: true,\n        pagination: {\n          total: res.total\n        }\n      });\n    }).catch(error => {\n      const _this = this;\n\n      _this.setState({\n        isLoaded: false,\n        error: error\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      title: \"Create New Image\",\n      extra: /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          float: \"right\"\n        },\n        type: \"primary\",\n        onClick: this.listImages,\n        children: \"Return\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: e => this.handleSubmit(e),\n        layout: \"horizontal\",\n        wrapperCol: { ...layoutForm.wrapperCol\n        },\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Name\",\n          name: \"Name\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          children: this.props.form.getFieldDecorator(\"Name\", {\n            rules: [{\n              required: true\n            }]\n          })( /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 16\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"From Instance\",\n          name: \"fromInstance\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          children: this.props.form.getFieldDecorator(\"fromInstance\", {\n            rules: []\n          })( /*#__PURE__*/_jsxDEV(Select, {\n            children: this.state.instances.map((item, index) => {\n              console.log(\"instance~\", item, index);\n              return /*#__PURE__*/_jsxDEV(Select.Option, {\n                value: item.Hostname,\n                children: [item.ID, \" - \", item.Hostname]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Download URL\",\n          name: \"Href\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          children: this.props.form.getFieldDecorator(\"Href\", {\n            rules: []\n          })( /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 16\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Architecture\",\n          name: \"Architecture\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          children: this.props.form.getFieldDecorator(\"Architecture\", {\n            rules: [{\n              required: true\n            }]\n          })( /*#__PURE__*/_jsxDEV(Select, {\n            children: [/*#__PURE__*/_jsxDEV(Select.Option, {\n              value: \"x86-64\",\n              children: \"x84_64\"\n            }, \"1\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n              value: \"s390x\",\n              children: \"s390x\"\n            }, \"2\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"OS Version\",\n          name: \"OsVersion\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          children: this.props.form.getFieldDecorator(\"OsVersion\", {\n            rules: [{\n              required: true\n            }]\n          })( /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 16\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Disk Type\",\n          name: \"DiskType\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          children: this.props.form.getFieldDecorator(\"DiskType\", {\n            rules: []\n          })( /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 16\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"VirtType\",\n          label: \"Virtualization Type\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          children: this.props.form.getFieldDecorator(\"VirtType\", {\n            rules: [{\n              required: true\n            }]\n          })( /*#__PURE__*/_jsxDEV(Select, {\n            children: [/*#__PURE__*/_jsxDEV(Select.Option, {\n              value: \"kvm-x86_64\",\n              children: \"KVM on x86_64\"\n            }, \"1\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n              value: \"kvm-zvm\",\n              children: \"KVM on Z\"\n            }, \"2\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n              value: \"zvm\",\n              children: \"Z/VM\"\n            }, \"3\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"OpenShiftLB\",\n          label: \"OpenShift_LB\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          children: this.props.form.getFieldDecorator(\"OpenShiftLB\", {\n            rules: [],\n            initialValue: \"false\"\n          })( /*#__PURE__*/_jsxDEV(Select, {\n            children: [/*#__PURE__*/_jsxDEV(Select.Option, {\n              value: \"true\",\n              children: \"yes\"\n            }, \"yes\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n              value: \"false\",\n              children: \"no\"\n            }, \"no\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"UserName\",\n          label: \"Default Username\",\n          labelCol: { ...layoutForm.labelCol\n          },\n          children: this.props.form.getFieldDecorator(\"UserName\", {\n            rules: [{\n              required: true\n            }]\n          })( /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 16\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          wrapperCol: { ...layoutButton.wrapperCol,\n            offset: 8\n          },\n          labelCol: {\n            span: 6\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            children: \"Create New Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Form.create({\n  name: \"createImages\"\n})(CreateImages);","map":{"version":3,"sources":["/Users/emily/cloudland/src/pages/images/CreateImages.jsx"],"names":["React","Component","Form","Card","Input","Select","Button","message","instListApi","createImgApi","layoutButton","labelCol","span","wrapperCol","layoutForm","CreateImages","constructor","props","listImages","history","push","handleSubmit","e","console","log","preventDefault","form","validateFieldsAndScroll","err","values","then","res","catch","error","state","instances","componentDidMount","_this","setState","isLoaded","pagination","total","render","float","getFieldDecorator","rules","required","map","item","index","Hostname","ID","initialValue","offset","create","name"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,KAArB,EAA4BC,MAA5B,EAAoCC,MAApC,EAA4CC,OAA5C,QAA2D,MAA3D;AACA,SAASC,WAAT,QAA4B,yBAA5B;AACA,SAASC,YAAT,QAA6B,sBAA7B;;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE;AAAEC,IAAAA,IAAI,EAAE;AAAR,GADS;AAEnBC,EAAAA,UAAU,EAAE;AAAED,IAAAA,IAAI,EAAE;AAAR;AAFO,CAArB;AAIA,MAAME,UAAU,GAAG;AACjBH,EAAAA,QAAQ,EAAE;AAAEC,IAAAA,IAAI,EAAE;AAAR,GADO;AAEjBC,EAAAA,UAAU,EAAE;AAAED,IAAAA,IAAI,EAAE;AAAR;AAFK,CAAnB;;AAIA,MAAMG,YAAN,SAA2Bd,SAA3B,CAAqC;AACnCe,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN,EADiB,CAEjB;;AAFiB,SAQnBC,UARmB,GAQN,MAAM;AACjB,WAAKD,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;AACD,KAVkB;;AAAA,SAgCnBC,YAhCmB,GAgCHC,CAAD,IAAO;AACpBC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BF,CAA7B;AACAA,MAAAA,CAAC,CAACG,cAAF;AACA,WAAKR,KAAL,CAAWS,IAAX,CAAgBC,uBAAhB,CAAwC,CAACC,GAAD,EAAMC,MAAN,KAAiB;AACvD,YAAI,CAACD,GAAL,EAAU;AACRL,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCK,MAAnC;AACAN,UAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AAEAf,UAAAA,YAAY,CAACoB,MAAD,CAAZ,CACGC,IADH,CACSC,GAAD,IAAS;AACbR,YAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8CO,GAA9C;AACA,iBAAKd,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;AACD,WAJH,EAKGY,KALH,CAKUJ,GAAD,IAAS;AACdL,YAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCI,GAAnC;AACD,WAPH;AAQD,SAZD,MAYO;AACLrB,UAAAA,OAAO,CAAC0B,KAAR,CAAc,0BAAd;AACD;AACF,OAhBD;AAiBD,KApDkB;;AAGjBV,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BP,KAA9B;AACA,SAAKiB,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE;AADA,KAAb;AAGD;;AAIDC,EAAAA,iBAAiB,GAAG;AAClB5B,IAAAA,WAAW,GACRsB,IADH,CACSC,GAAD,IAAS;AACb,YAAMM,KAAK,GAAG,IAAd;;AACAd,MAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CO,GAA5C;;AACAM,MAAAA,KAAK,CAACC,QAAN,CAAe;AACbH,QAAAA,SAAS,EAAEJ,GAAG,CAACI,SADF;AAEbI,QAAAA,QAAQ,EAAE,IAFG;AAGbC,QAAAA,UAAU,EAAE;AACVC,UAAAA,KAAK,EAAEV,GAAG,CAACU;AADD;AAHC,OAAf;AAOD,KAXH,EAYGT,KAZH,CAYUC,KAAD,IAAW;AAChB,YAAMI,KAAK,GAAG,IAAd;;AACAA,MAAAA,KAAK,CAACC,QAAN,CAAe;AACbC,QAAAA,QAAQ,EAAE,KADG;AAEbN,QAAAA,KAAK,EAAEA;AAFM,OAAf;AAID,KAlBH;AAmBD;;AAsBDS,EAAAA,MAAM,GAAG;AACP,wBACE,QAAC,IAAD;AACE,MAAA,KAAK,EAAE,kBADT;AAEE,MAAA,KAAK,eACH,QAAC,MAAD;AACE,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT,SADT;AAEE,QAAA,IAAI,EAAC,SAFP;AAGE,QAAA,OAAO,EAAE,KAAKzB,UAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA,6BAYE,QAAC,IAAD;AACE,QAAA,QAAQ,EAAGI,CAAD,IAAO,KAAKD,YAAL,CAAkBC,CAAlB,CADnB;AAEE,QAAA,MAAM,EAAC,YAFT;AAGE,QAAA,UAAU,EAAE,EAAE,GAAGR,UAAU,CAACD;AAAhB,SAHd;AAAA,gCAKE,QAAC,IAAD,CAAM,IAAN;AACE,UAAA,KAAK,EAAC,MADR;AAEE,UAAA,IAAI,EAAC,MAFP;AAGE,UAAA,QAAQ,EAAE,EAAE,GAAGC,UAAU,CAACH;AAAhB,WAHZ;AAAA,oBAKG,KAAKM,KAAL,CAAWS,IAAX,CAAgBkB,iBAAhB,CAAkC,MAAlC,EAA0C;AACzCC,YAAAA,KAAK,EAAE,CACL;AACEC,cAAAA,QAAQ,EAAE;AADZ,aADK;AADkC,WAA1C,gBAME,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,kBANF;AALH;AAAA;AAAA;AAAA;AAAA,gBALF,eAkBE,QAAC,IAAD,CAAM,IAAN;AACE,UAAA,KAAK,EAAC,eADR;AAEE,UAAA,IAAI,EAAC,cAFP;AAGE,UAAA,QAAQ,EAAE,EAAE,GAAGhC,UAAU,CAACH;AAAhB,WAHZ;AAAA,oBAKG,KAAKM,KAAL,CAAWS,IAAX,CAAgBkB,iBAAhB,CAAkC,cAAlC,EAAkD;AACjDC,YAAAA,KAAK,EAAE;AAD0C,WAAlD,gBAGC,QAAC,MAAD;AAAA,sBACG,KAAKX,KAAL,CAAWC,SAAX,CAAqBY,GAArB,CAAyB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACzC1B,cAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBwB,IAAzB,EAA+BC,KAA/B;AACA,kCACE,QAAC,MAAD,CAAQ,MAAR;AAA2B,gBAAA,KAAK,EAAED,IAAI,CAACE,QAAvC;AAAA,2BACGF,IAAI,CAACG,EADR,SACeH,IAAI,CAACE,QADpB;AAAA,iBAAoBD,KAApB;AAAA;AAAA;AAAA;AAAA,sBADF;AAKD,aAPA;AADH;AAAA;AAAA;AAAA;AAAA,kBAHD;AALH;AAAA;AAAA;AAAA;AAAA,gBAlBF,eAsCE,QAAC,IAAD,CAAM,IAAN;AACE,UAAA,KAAK,EAAC,cADR;AAEE,UAAA,IAAI,EAAC,MAFP;AAGE,UAAA,QAAQ,EAAE,EAAE,GAAGnC,UAAU,CAACH;AAAhB,WAHZ;AAAA,oBAKG,KAAKM,KAAL,CAAWS,IAAX,CAAgBkB,iBAAhB,CAAkC,MAAlC,EAA0C;AACzCC,YAAAA,KAAK,EAAE;AADkC,WAA1C,gBAEE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,kBAFF;AALH;AAAA;AAAA;AAAA;AAAA,gBAtCF,eAgDE,QAAC,IAAD,CAAM,IAAN;AACE,UAAA,KAAK,EAAC,cADR;AAEE,UAAA,IAAI,EAAC,cAFP;AAGE,UAAA,QAAQ,EAAE,EAAE,GAAG/B,UAAU,CAACH;AAAhB,WAHZ;AAAA,oBAKG,KAAKM,KAAL,CAAWS,IAAX,CAAgBkB,iBAAhB,CAAkC,cAAlC,EAAkD;AACjDC,YAAAA,KAAK,EAAE,CACL;AACEC,cAAAA,QAAQ,EAAE;AADZ,aADK;AAD0C,WAAlD,gBAOC,QAAC,MAAD;AAAA,oCACE,QAAC,MAAD,CAAQ,MAAR;AAAuB,cAAA,KAAK,EAAC,QAA7B;AAAA;AAAA,eAAmB,GAAnB;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,MAAD,CAAQ,MAAR;AAAuB,cAAA,KAAK,EAAC,OAA7B;AAAA;AAAA,eAAmB,GAAnB;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPD;AALH;AAAA;AAAA;AAAA;AAAA,gBAhDF,eAsEE,QAAC,IAAD,CAAM,IAAN;AACE,UAAA,KAAK,EAAC,YADR;AAEE,UAAA,IAAI,EAAC,WAFP;AAGE,UAAA,QAAQ,EAAE,EAAE,GAAGhC,UAAU,CAACH;AAAhB,WAHZ;AAAA,oBAKG,KAAKM,KAAL,CAAWS,IAAX,CAAgBkB,iBAAhB,CAAkC,WAAlC,EAA+C;AAC9CC,YAAAA,KAAK,EAAE,CACL;AACEC,cAAAA,QAAQ,EAAE;AADZ,aADK;AADuC,WAA/C,gBAME,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,kBANF;AALH;AAAA;AAAA;AAAA;AAAA,gBAtEF,eAmFE,QAAC,IAAD,CAAM,IAAN;AACE,UAAA,KAAK,EAAC,WADR;AAEE,UAAA,IAAI,EAAC,UAFP;AAGE,UAAA,QAAQ,EAAE,EAAE,GAAGhC,UAAU,CAACH;AAAhB,WAHZ;AAAA,oBAKG,KAAKM,KAAL,CAAWS,IAAX,CAAgBkB,iBAAhB,CAAkC,UAAlC,EAA8C;AAC7CC,YAAAA,KAAK,EAAE;AADsC,WAA9C,gBAEE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,kBAFF;AALH;AAAA;AAAA;AAAA;AAAA,gBAnFF,eA4FE,QAAC,IAAD,CAAM,IAAN;AACE,UAAA,IAAI,EAAC,UADP;AAEE,UAAA,KAAK,EAAC,qBAFR;AAGE,UAAA,QAAQ,EAAE,EAAE,GAAG/B,UAAU,CAACH;AAAhB,WAHZ;AAAA,oBAKG,KAAKM,KAAL,CAAWS,IAAX,CAAgBkB,iBAAhB,CAAkC,UAAlC,EAA8C;AAC7CC,YAAAA,KAAK,EAAE,CACL;AACEC,cAAAA,QAAQ,EAAE;AADZ,aADK;AADsC,WAA9C,gBAOC,QAAC,MAAD;AAAA,oCACE,QAAC,MAAD,CAAQ,MAAR;AAAuB,cAAA,KAAK,EAAC,YAA7B;AAAA;AAAA,eAAmB,GAAnB;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,MAAD,CAAQ,MAAR;AAAuB,cAAA,KAAK,EAAC,SAA7B;AAAA;AAAA,eAAmB,GAAnB;AAAA;AAAA;AAAA;AAAA,oBAJF,eAOE,QAAC,MAAD,CAAQ,MAAR;AAAuB,cAAA,KAAK,EAAC,KAA7B;AAAA;AAAA,eAAmB,GAAnB;AAAA;AAAA;AAAA;AAAA,oBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPD;AALH;AAAA;AAAA;AAAA;AAAA,gBA5FF,eAqHE,QAAC,IAAD,CAAM,IAAN;AACE,UAAA,IAAI,EAAC,aADP;AAEE,UAAA,KAAK,EAAC,cAFR;AAGE,UAAA,QAAQ,EAAE,EAAE,GAAGhC,UAAU,CAACH;AAAhB,WAHZ;AAAA,oBAKG,KAAKM,KAAL,CAAWS,IAAX,CAAgBkB,iBAAhB,CAAkC,aAAlC,EAAiD;AAChDC,YAAAA,KAAK,EAAE,EADyC;AAEhDO,YAAAA,YAAY,EAAE;AAFkC,WAAjD,gBAIC,QAAC,MAAD;AAAA,oCACE,QAAC,MAAD,CAAQ,MAAR;AAAyB,cAAA,KAAK,EAAC,MAA/B;AAAA;AAAA,eAAmB,KAAnB;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,MAAD,CAAQ,MAAR;AAAwB,cAAA,KAAK,EAAC,OAA9B;AAAA;AAAA,eAAmB,IAAnB;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJD;AALH;AAAA;AAAA;AAAA;AAAA,gBArHF,eAwIE,QAAC,IAAD,CAAM,IAAN;AACE,UAAA,IAAI,EAAC,UADP;AAEE,UAAA,KAAK,EAAC,kBAFR;AAGE,UAAA,QAAQ,EAAE,EAAE,GAAGtC,UAAU,CAACH;AAAhB,WAHZ;AAAA,oBAKG,KAAKM,KAAL,CAAWS,IAAX,CAAgBkB,iBAAhB,CAAkC,UAAlC,EAA8C;AAC7CC,YAAAA,KAAK,EAAE,CACL;AACEC,cAAAA,QAAQ,EAAE;AADZ,aADK;AADsC,WAA9C,gBAME,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,kBANF;AALH;AAAA;AAAA;AAAA;AAAA,gBAxIF,eAqJE,QAAC,IAAD,CAAM,IAAN;AACE,UAAA,UAAU,EAAE,EAAE,GAAGpC,YAAY,CAACG,UAAlB;AAA8BwC,YAAAA,MAAM,EAAE;AAAtC,WADd;AAEE,UAAA,QAAQ,EAAE;AAAEzC,YAAAA,IAAI,EAAE;AAAR,WAFZ;AAAA,iCAKI,QAAC,MAAD;AAAQ,YAAA,IAAI,EAAC,SAAb;AAAuB,YAAA,QAAQ,EAAC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,gBArJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAZF;AAAA;AAAA;AAAA;AAAA,YADF;AA+KD;;AAtOkC;;AAwOrC,eAAeV,IAAI,CAACoD,MAAL,CAAY;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAAZ,EAAsCxC,YAAtC,CAAf","sourcesContent":["/*\n\nCopyright <holder> All Rights Reserved\n\nSPDX-License-Identifier: Apache-2.0\n\n*/\nimport React, { Component } from \"react\";\nimport { Form, Card, Input, Select, Button, message } from \"antd\";\nimport { instListApi } from \"../../service/instances\";\nimport { createImgApi } from \"../../service/images\";\n\nconst layoutButton = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst layoutForm = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 10 },\n};\nclass CreateImages extends Component {\n  constructor(props) {\n    super(props);\n    //const { getFieldDecorator } = this.props.form;\n    console.log(\"ModifyImages~~\", props);\n    this.state = {\n      instances: [],\n    };\n  }\n  listImages = () => {\n    this.props.history.push(\"/images\");\n  };\n  componentDidMount() {\n    instListApi()\n      .then((res) => {\n        const _this = this;\n        console.log(\"componentDidMount-instances:\", res);\n        _this.setState({\n          instances: res.instances,\n          isLoaded: true,\n          pagination: {\n            total: res.total,\n          },\n        });\n      })\n      .catch((error) => {\n        const _this = this;\n        _this.setState({\n          isLoaded: false,\n          error: error,\n        });\n      });\n  }\n  handleSubmit = (e) => {\n    console.log(\"handleSubmit:\", e);\n    e.preventDefault();\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      if (!err) {\n        console.log(\"handleSubmit-value:\", values);\n        console.log(\"提交\");\n\n        createImgApi(values)\n          .then((res) => {\n            console.log(\"handleSubmit-res-createImgApi:\", res);\n            this.props.history.push(\"/images\");\n          })\n          .catch((err) => {\n            console.log(\"handleSubmit-error:\", err);\n          });\n      } else {\n        message.error(\" input wrong information\");\n      }\n    });\n  };\n  render() {\n    return (\n      <Card\n        title={\"Create New Image\"}\n        extra={\n          <Button\n            style={{ float: \"right\" }}\n            type=\"primary\"\n            onClick={this.listImages}\n          >\n            Return\n          </Button>\n        }\n      >\n        <Form\n          onSubmit={(e) => this.handleSubmit(e)}\n          layout=\"horizontal\"\n          wrapperCol={{ ...layoutForm.wrapperCol }}\n        >\n          <Form.Item\n            label=\"Name\"\n            name=\"Name\"\n            labelCol={{ ...layoutForm.labelCol }}\n          >\n            {this.props.form.getFieldDecorator(\"Name\", {\n              rules: [\n                {\n                  required: true,\n                },\n              ],\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item\n            label=\"From Instance\"\n            name=\"fromInstance\"\n            labelCol={{ ...layoutForm.labelCol }}\n          >\n            {this.props.form.getFieldDecorator(\"fromInstance\", {\n              rules: [],\n            })(\n              <Select>\n                {this.state.instances.map((item, index) => {\n                  console.log(\"instance~\", item, index);\n                  return (\n                    <Select.Option key={index} value={item.Hostname}>\n                      {item.ID} - {item.Hostname}\n                    </Select.Option>\n                  );\n                })}\n              </Select>\n            )}\n          </Form.Item>\n          <Form.Item\n            label=\"Download URL\"\n            name=\"Href\"\n            labelCol={{ ...layoutForm.labelCol }}\n          >\n            {this.props.form.getFieldDecorator(\"Href\", {\n              rules: [],\n            })(<Input />)}\n          </Form.Item>\n\n          <Form.Item\n            label=\"Architecture\"\n            name=\"Architecture\"\n            labelCol={{ ...layoutForm.labelCol }}\n          >\n            {this.props.form.getFieldDecorator(\"Architecture\", {\n              rules: [\n                {\n                  required: true,\n                },\n              ],\n            })(\n              <Select>\n                <Select.Option key=\"1\" value=\"x86-64\">\n                  x84_64\n                </Select.Option>\n                <Select.Option key=\"2\" value=\"s390x\">\n                  s390x\n                </Select.Option>\n              </Select>\n            )}\n          </Form.Item>\n          <Form.Item\n            label=\"OS Version\"\n            name=\"OsVersion\"\n            labelCol={{ ...layoutForm.labelCol }}\n          >\n            {this.props.form.getFieldDecorator(\"OsVersion\", {\n              rules: [\n                {\n                  required: true,\n                },\n              ],\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item\n            label=\"Disk Type\"\n            name=\"DiskType\"\n            labelCol={{ ...layoutForm.labelCol }}\n          >\n            {this.props.form.getFieldDecorator(\"DiskType\", {\n              rules: [],\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item\n            name=\"VirtType\"\n            label=\"Virtualization Type\"\n            labelCol={{ ...layoutForm.labelCol }}\n          >\n            {this.props.form.getFieldDecorator(\"VirtType\", {\n              rules: [\n                {\n                  required: true,\n                },\n              ],\n            })(\n              <Select>\n                <Select.Option key=\"1\" value=\"kvm-x86_64\">\n                  KVM on x86_64\n                </Select.Option>\n                <Select.Option key=\"2\" value=\"kvm-zvm\">\n                  KVM on Z\n                </Select.Option>\n                <Select.Option key=\"3\" value=\"zvm\">\n                  Z/VM\n                </Select.Option>\n              </Select>\n            )}\n          </Form.Item>\n          <Form.Item\n            name=\"OpenShiftLB\"\n            label=\"OpenShift_LB\"\n            labelCol={{ ...layoutForm.labelCol }}\n          >\n            {this.props.form.getFieldDecorator(\"OpenShiftLB\", {\n              rules: [],\n              initialValue: \"false\",\n            })(\n              <Select>\n                <Select.Option key=\"yes\" value=\"true\">\n                  yes\n                </Select.Option>\n                <Select.Option key=\"no\" value=\"false\">\n                  no\n                </Select.Option>\n              </Select>\n            )}\n          </Form.Item>\n          <Form.Item\n            name=\"UserName\"\n            label=\"Default Username\"\n            labelCol={{ ...layoutForm.labelCol }}\n          >\n            {this.props.form.getFieldDecorator(\"UserName\", {\n              rules: [\n                {\n                  required: true,\n                },\n              ],\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item\n            wrapperCol={{ ...layoutButton.wrapperCol, offset: 8 }}\n            labelCol={{ span: 6 }}\n          >\n            {\n              <Button type=\"primary\" htmlType=\"submit\">\n                Create New Image\n              </Button>\n            }\n          </Form.Item>\n        </Form>\n      </Card>\n    );\n  }\n}\nexport default Form.create({ name: \"createImages\" })(CreateImages);\n"]},"metadata":{},"sourceType":"module"}